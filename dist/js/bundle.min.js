!function(e){var t={};function a(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=5)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(7);class r extends Phaser.State{preload(){r.gameManager||(r.gameManager=new s.GameManager(this.game))}}r.gameManager=null,t.GameState=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.up=0]="up",e[e.down=1]="down",e[e.right=2]="right",e[e.left=3]="left"}(t.Direction||(t.Direction={})),function(e){e[e.stop=0]="stop",e[e.move=1]="move"}(t.BoulderState||(t.BoulderState={})),function(e){e[e.none=0]="none",e[e.bushes=1]="bushes",e[e.cave=2]="cave",e[e.haystack=3]="haystack"}(t.HidingType||(t.HidingType={})),t.CharacterState={dead:0,run:1,stand:2,walk:3},t.PlayerState=Object.assign({},t.CharacterState,{hidden:4}),t.EnemyState=Object.assign({},t.CharacterState,{onRoute:4,pursuit:5})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(12);class r{constructor(e,t){this.game=e,this.name=t,this.type="item"}setName(e){return this.name=e,this}setType(e){return this.type=e,this}load(e){return this.setName(e.name).setType(e.type)}toJSON(){return{name:this.name,type:this.constructor.name}}}r.factory=new s.ItemFactory,t.Item=r,r.factory.set("Item",r)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Factory=class extends Map{}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(14);class r extends Phaser.Sprite{constructor(e,t,a,s,r){super(e.game,t,a,s,r),this.gameManager=e,this.game.add.existing(this),this.gameManager.gameObjects.push(this),this.smoothed=!1}setPosition(e,t){return this.body.x=e,this.body.y=t,this}setVelocity(e,t){return this.body.velocity.x=e,this.body.velocity.y=t,this}interact(e){return e.interaction(this),this}interaction(e){if(!(e instanceof r))throw new TypeError("Expected gameObject to be a GameObject instance")}toJSON(){return{frame:this.frame,key:this.key,name:this.name,position:{x:this.position.x,y:this.position.y},type:this.constructor.name,velocity:{x:this.body.velocity.x,y:this.body.velocity.y}}}fromJSON(e){return this.frame=e.frame,this.key=e.key,this.name=e.name,this.setPosition(e.position.x,e.position.y).setVelocity(e.velocity.x,e.velocity.y)}}r.factory=new s.GameObjectFactory,t.GameObject=r,r.factory.set("GameObject",r)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(6),r=a(15),i=a(16),n=a(18),o=a(19),c=a(20);window.onload=function(){const e=new Phaser.Game(c.WIN_WIDTH,c.WIN_HEIGHT,Phaser.AUTO,"game");e.state.add("boot",s.BootState),e.state.add("preloader",o.PreloaderState),e.state.add("play",n.PlayState),e.state.add("menu",r.MenuState),e.state.add("newGame",i.NewGameState),e.state.start("boot")}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(0);t.BootState=class extends s.GameState{preload(){super.preload(),this.game.load.image("preloader_bar","images/preloader_bar.png")}create(){this.game.state.start("preloader")}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(8);var r;t.GameManager=class{constructor(e){this.game=e,this.mapManager=null,this.storageManager=new s.StorageManager(this),this.gameObjects=[],this.player=null,this.playerName=null,this.level=r.First}clear(){for(const e of this.gameObjects)e.destroy(!0);return this.gameObjects.length=0,this}},function(e){e[e.First=0]="First"}(r=t.GameLevels||(t.GameLevels={}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(9),r=a(4);t.StorageManager=class{constructor(e){this.gameManager=e}save(){localStorage.clear(),localStorage.setItem("gameObjects",JSON.stringify(this.gameManager.gameObjects)),localStorage.setItem("level",this.gameManager.level.toString()),localStorage.setItem("playerName",this.gameManager.playerName)}load(){this.gameManager.clear();const e=localStorage.getItem("level");if(null===e)throw new Error("Could not find a saved file.");const t=Number(e);this.gameManager.level=t;const a=JSON.parse(localStorage.getItem("gameObjects"));a&&this.loadGameObjects(a);const s=localStorage.getItem("playerName");s&&this.loadPlayerName(s)}loadGameObjects(e){console.log(this);for(const t of e){const e=r.GameObject.factory.get(t.type);if(!e)throw new Error(`Could not find a constructor for ${t.type||"unknown"}. Aborting.`);new e(this.gameManager,0,0,t.key,t.frame).fromJSON(t)}this.gameManager.player=this.gameManager.gameObjects.find(e=>e instanceof s.Player)}loadPlayerName(e){this.gameManager.playerName=e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(1),r=a(10);class i extends r.Character{constructor(e,t,a){super(e,t,a,"player"),this.hidingSpot=null,this.money=0,this.directions={down:!1,left:!1,right:!1,up:!1},this.game.camera.follow(this)}update(){this.directions.down=this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN),this.directions.left=this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT),this.directions.right=this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT),this.directions.up=this.game.input.keyboard.isDown(Phaser.Keyboard.UP);const e=this.game.input.keyboard.isDown(Phaser.Keyboard.SHIFT);this.directions.down!==this.directions.up?(this.direction=this.directions.down?s.Direction.down:s.Direction.up,e?this.run():this.walk()):this.directions.left!==this.directions.right?(this.direction=this.directions.left?s.Direction.left:s.Direction.right,e?this.run():this.walk()):this.stand()}hide(e){return e.hidingType!==s.HidingType.none&&(this.setState(s.PlayerState.hidden),this.hidingSpot=e),this}reveal(){return this.hidingSpot&&(this.setState(this.health?s.PlayerState.stand:s.PlayerState.dead),this.hidingSpot=null),this}fromJSON(e){return super.fromJSON(e),this.money=e.money,this}toJSON(){return Object.assign({},super.toJSON(),{hidingSpot:this.hidingSpot.toJSON(),money:this.money})}}t.Player=i,i.factory.set("Player",i)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(11),r=a(2),i=a(13),n=a(1),o=a(4);class c extends o.GameObject{constructor(e,t,a,r,i){super(e,t,a,r,i),this.walkSpeed=0,this.runSpeed=0,this.state=n.CharacterState.stand,this.direction=n.Direction.down,this.inventory=new s.Inventory,this.strength=0,this.game.physics.enable(this)}get damageStrength(){const e=this.inventory.active;return e instanceof i.ItemWeapon?e.damage:this.strength}setStrength(e){return this.strength=e,this}setState(e){return this.state=e,this}attack(e){e.damage(this.damageStrength)}kill(){return this.setState(n.CharacterState.dead),super.kill()}walk(){switch(this.setState(n.CharacterState.walk),this.direction){case n.Direction.down:this.setVelocity(0,this.walkSpeed);break;case n.Direction.up:this.setVelocity(0,-this.walkSpeed);break;case n.Direction.left:this.setVelocity(-this.walkSpeed,0);break;default:this.setVelocity(this.walkSpeed,0)}}run(){switch(this.setState(n.CharacterState.run),this.direction){case n.Direction.down:this.setVelocity(0,this.runSpeed);break;case n.Direction.up:this.setVelocity(0,-this.runSpeed);break;case n.Direction.left:this.setVelocity(-this.runSpeed,0);break;default:this.setVelocity(this.runSpeed,0)}}stand(){this.setState(n.CharacterState.stand),this.setVelocity(0,0)}changeDirection(e){this.direction=e}fromJSON(e){super.fromJSON(e),this.direction=e.direction,this.runSpeed=e.runSpeed,this.walkSpeed=e.walkSpeed,this.inventory.clear();for(const t of e.inventory.items)this.inventory.set(t.name,new r.Item(this.game,t.name));return this.setStrength(e.strength),this}toJSON(){return Object.assign({},super.toJSON(),{direction:this.direction,inventory:this.inventory.toJSON(),runSpeed:this.runSpeed,strength:this.strength,walkSpeed:this.walkSpeed})}}t.Character=c,c.factory.set("Character",c)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Inventory=class extends Map{setActive(e){return this.active=e,this}toJSON(){return{active:this.active.name,items:[...this.values()]}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3);t.ItemFactory=class extends s.Factory{}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2);class r extends s.Item{constructor(){super(...arguments),this.damage=0}setDamage(e){return this.damage=e,this}load(e){return super.load(e).setDamage(e.damage)}toJSON(){return Object.assign({},super.toJSON(),{damage:this.damage})}}t.ItemWeapon=r,s.Item.factory.set("ItemWeapon",r)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3);t.GameObjectFactory=class extends s.Factory{}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(0);t.MenuState=class extends s.GameState{constructor(){super(...arguments),this.texts=[],this.logo=null}create(){this.game.stage.backgroundColor="#2A1B19",this.logo=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY-120,"logo"),this.logo.anchor.setTo(.5,.5),this.logo.scale.setTo(.5,.5),this.createButton("New Game",()=>{this.game.state.start("newGame")}),localStorage.getItem("level")&&this.createButton("Continue",()=>{s.GameState.gameManager.storageManager.load()})}shutdown(){for(const e of this.texts)e.destroy(!0);this.texts.length=0,this.logo.destroy(!0),super.shutdown()}createButton(e,t){const a=this.game.add.text(this.game.world.centerX,this.game.world.centerY,e,{font:"65px Arial",fill:"#CDCDCD",align:"center"});a.anchor.set(.5),a.inputEnabled=!0,a.events.onInputUp.add(t,this),a.events.onInputDown.add(()=>{a.fill="#FF0044",a.events.onInputOver.removeAll(),a.events.onInputOut.removeAll()}),a.events.onInputOver.add(()=>{a.fill="#FFFFFF"}),a.events.onInputOut.add(()=>{a.fill="#EFEFEF"}),this.texts.push(a),a.alignTo(this.texts.length?this.texts[this.texts.length-1]:this.logo,Phaser.BOTTOM_CENTER,16)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(17),r=a(0);t.NewGameState=class extends r.GameState{preload(){this.game.load.json("Level-0-GameObjects","json/Level-0-GameObjects.json")}create(){const e=this.game.add.text(this.game.world.centerX,this.game.world.centerY-65,"Insert your name",{font:"65px Arial",fill:"#CDCDCD",align:"center"});e.anchor.setTo(.5,.5);const t=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"",{font:"65px Arial",fill:"#CDCDCD",align:"center"});t.anchor.setTo(.5,.5),t.alignTo(e,Phaser.BOTTOM_CENTER,0,25),s.readLine(t,a=>{e.destroy(!0),t.destroy(!0),this.game.state.start("play");const s=r.GameState.gameManager;s.playerName=a,s.storageManager.loadGameObjects(this.game.cache.getJSON("Level-0-GameObjects"))},{maximumLength:20})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=function(e,t){const a=e.slice(),s=[];for(;a.length;)s.push(a.splice(0,t));return s},t.readLine=function(e,t,a){const s=[],r="maximumLength"in a?a.maximumLength:100,i=a=>{if("Enter"===a.key)return document.removeEventListener("keydown",i),void t(s.join(""));if("Backspace"===a.key)s.length&&s.pop();else{if(!(s.length<=r&&/^[\(\)\[\]\w\d\-!?¡¿ ]$/.test(a.key)))return;s.push(a.key)}e.text=s.join("")};document.addEventListener("keydown",i)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(0);t.PlayState=class extends s.GameState{constructor(){super(...arguments),this.tilemaps=new Map}preload(){this.game.load.tilemap("Level-0","json/Level-0.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.image("overworld","images/overworld.png"),this.game.load.image("cave","images/cave.png"),this.game.load.image("objects","images/objects.png"),this.game.load.spritesheet("player","images/player.png",16,32)}create(){this.getTilemap(0),this.camera.scale.setTo(3,3),this.game.add.tileSprite(0,0,16,32,"player"),this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.UP,Phaser.Keyboard.DOWN,Phaser.Keyboard.SPACEBAR]),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.stage.backgroundColor="#99F"}getTilemap(e){const t=`Level-${e}`;let a=this.tilemaps.get(e);return a||((a=this.game.add.tilemap(t)).addTilesetImage("overworld"),a.createLayer(0).smoothed=!1,a.createLayer(1).smoothed=!1,a.createLayer(2).smoothed=!1,this.tilemaps.set(e,a)),a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(0);t.PreloaderState=class extends s.GameState{preload(){this.loadingBar=this.game.add.sprite(0,240,"preloader_bar"),this.loadingBar.anchor.setTo(0,.5),this.load.setPreloadSprite(this.loadingBar),this.game.load.image("logo","images/StonesCreed.png")}create(){this.game.state.start("menu")}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WIN_WIDTH=800,t.WIN_HEIGHT=600}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvR2FtZVN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9taXNjL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9pdGVtcy9JdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9jb21tb24vRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvZ2FtZU9iamVjdHMvR2FtZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvQm9vdFN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9tYW5hZ2Vycy9HYW1lTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvbWFuYWdlcnMvU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2dhbWVPYmplY3RzL2NoYXJhY3RlcnMvUGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9jaGFyYWN0ZXJzL0NoYXJhY3Rlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvY29tbW9uL0ludmVudG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvaXRlbXMvSXRlbUZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2l0ZW1zL0l0ZW1XZWFwb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2dhbWVPYmplY3RzL0dhbWVPYmplY3RGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RhdGVzL01lbnVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0YXRlcy9OZXdHYW1lU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi91dGlsL3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvUGxheVN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RhdGVzL1ByZWxvYWRlclN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvdXRpbC9jb25zdGFudHMudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHYW1lTWFuYWdlcl8xIiwiR2FtZVN0YXRlIiwiUGhhc2VyIiwiU3RhdGUiLCJbb2JqZWN0IE9iamVjdF0iLCJnYW1lTWFuYWdlciIsIkdhbWVNYW5hZ2VyIiwidGhpcyIsImdhbWUiLCJEaXJlY3Rpb24iLCJCb3VsZGVyU3RhdGUiLCJIaWRpbmdUeXBlIiwiQ2hhcmFjdGVyU3RhdGUiLCJkZWFkIiwicnVuIiwic3RhbmQiLCJ3YWxrIiwiUGxheWVyU3RhdGUiLCJhc3NpZ24iLCJoaWRkZW4iLCJFbmVteVN0YXRlIiwib25Sb3V0ZSIsInB1cnN1aXQiLCJJdGVtRmFjdG9yeV8xIiwiSXRlbSIsInR5cGUiLCJkYXRhIiwic2V0TmFtZSIsInNldFR5cGUiLCJjb25zdHJ1Y3RvciIsImZhY3RvcnkiLCJJdGVtRmFjdG9yeSIsInNldCIsIkZhY3RvcnkiLCJNYXAiLCJHYW1lT2JqZWN0RmFjdG9yeV8xIiwiR2FtZU9iamVjdCIsIlNwcml0ZSIsIngiLCJ5IiwiZnJhbWUiLCJzdXBlciIsImFkZCIsImV4aXN0aW5nIiwiZ2FtZU9iamVjdHMiLCJwdXNoIiwic21vb3RoZWQiLCJib2R5IiwidmVsb2NpdHkiLCJnYW1lT2JqZWN0IiwiaW50ZXJhY3Rpb24iLCJUeXBlRXJyb3IiLCJwb3NpdGlvbiIsInNldFBvc2l0aW9uIiwic2V0VmVsb2NpdHkiLCJHYW1lT2JqZWN0RmFjdG9yeSIsIkJvb3RTdGF0ZV8xIiwiTWVudVN0YXRlXzEiLCJOZXdHYW1lU3RhdGVfMSIsIlBsYXlTdGF0ZV8xIiwiUHJlbG9hZGVyU3RhdGVfMSIsImNvbnN0YW50c18xIiwid2luZG93Iiwib25sb2FkIiwiR2FtZSIsIldJTl9XSURUSCIsIldJTl9IRUlHSFQiLCJBVVRPIiwic3RhdGUiLCJCb290U3RhdGUiLCJQcmVsb2FkZXJTdGF0ZSIsIlBsYXlTdGF0ZSIsIk1lbnVTdGF0ZSIsIk5ld0dhbWVTdGF0ZSIsInN0YXJ0IiwiR2FtZVN0YXRlXzEiLCJwcmVsb2FkIiwibG9hZCIsImltYWdlIiwiU3RvcmFnZU1hbmFnZXJfMSIsIkdhbWVMZXZlbHMiLCJtYXBNYW5hZ2VyIiwic3RvcmFnZU1hbmFnZXIiLCJTdG9yYWdlTWFuYWdlciIsInBsYXllciIsInBsYXllck5hbWUiLCJsZXZlbCIsIkZpcnN0IiwiZGVzdHJveSIsImxlbmd0aCIsIlBsYXllcl8xIiwiR2FtZU9iamVjdF8xIiwibG9jYWxTdG9yYWdlIiwiY2xlYXIiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvU3RyaW5nIiwicmF3TGV2ZWwiLCJnZXRJdGVtIiwiRXJyb3IiLCJOdW1iZXIiLCJwYXJzZSIsImxvYWRHYW1lT2JqZWN0cyIsImxvYWRQbGF5ZXJOYW1lIiwiY29uc29sZSIsImxvZyIsIkN0b3IiLCJmcm9tSlNPTiIsImZpbmQiLCJQbGF5ZXIiLCJ0eXBlc18xIiwiQ2hhcmFjdGVyXzEiLCJDaGFyYWN0ZXIiLCJoaWRpbmdTcG90IiwibW9uZXkiLCJkaXJlY3Rpb25zIiwiZG93biIsImxlZnQiLCJyaWdodCIsInVwIiwiY2FtZXJhIiwiZm9sbG93IiwiaW5wdXQiLCJrZXlib2FyZCIsImlzRG93biIsIktleWJvYXJkIiwiRE9XTiIsIkxFRlQiLCJSSUdIVCIsIlVQIiwicnVubmluZyIsIlNISUZUIiwiZGlyZWN0aW9uIiwiaGlkaW5nVHlwZSIsIm5vbmUiLCJzZXRTdGF0ZSIsImhlYWx0aCIsInRvSlNPTiIsIkludmVudG9yeV8xIiwiSXRlbV8xIiwiSXRlbVdlYXBvbl8xIiwid2Fsa1NwZWVkIiwicnVuU3BlZWQiLCJpbnZlbnRvcnkiLCJJbnZlbnRvcnkiLCJzdHJlbmd0aCIsInBoeXNpY3MiLCJlbmFibGUiLCJkYW1hZ2VTdHJlbmd0aCIsIml0ZW0iLCJhY3RpdmUiLCJJdGVtV2VhcG9uIiwiZGFtYWdlIiwiY2hhcmFjdGVyIiwia2lsbCIsImVudHJ5IiwiaXRlbXMiLCJzZXRTdHJlbmd0aCIsInZhbHVlcyIsIkZhY3RvcnlfMSIsInNldERhbWFnZSIsInRleHRzIiwibG9nbyIsInN0YWdlIiwiYmFja2dyb3VuZENvbG9yIiwic3ByaXRlIiwid29ybGQiLCJjZW50ZXJYIiwiY2VudGVyWSIsImFuY2hvciIsInNldFRvIiwic2NhbGUiLCJjcmVhdGVCdXR0b24iLCJ0ZXh0Iiwic2h1dGRvd24iLCJjYiIsImZvbnQiLCJmaWxsIiwiYWxpZ24iLCJpbnB1dEVuYWJsZWQiLCJldmVudHMiLCJvbklucHV0VXAiLCJvbklucHV0RG93biIsIm9uSW5wdXRPdmVyIiwicmVtb3ZlQWxsIiwib25JbnB1dE91dCIsImFsaWduVG8iLCJCT1RUT01fQ0VOVEVSIiwidXRpbF8xIiwianNvbiIsInRpdGxlVGV4dCIsImlucHV0VGV4dCIsInJlYWRMaW5lIiwiY2FjaGUiLCJnZXRKU09OIiwibWF4aW11bUxlbmd0aCIsImNodW5rIiwiZW50cmllcyIsImNodW5rU2l6ZSIsImNsb25lIiwic2xpY2UiLCJjaHVua3MiLCJzcGxpY2UiLCJvcHRpb25zIiwiY29udGVudCIsIm1heGltdW0iLCJsaXN0ZW5lciIsImV2ZW50IiwiZG9jdW1lbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiam9pbiIsInBvcCIsInRlc3QiLCJhZGRFdmVudExpc3RlbmVyIiwidGlsZW1hcHMiLCJ0aWxlbWFwIiwiVGlsZW1hcCIsIlRJTEVEX0pTT04iLCJzcHJpdGVzaGVldCIsImdldFRpbGVtYXAiLCJ0aWxlU3ByaXRlIiwiYWRkS2V5Q2FwdHVyZSIsIlNQQUNFQkFSIiwic3RhcnRTeXN0ZW0iLCJQaHlzaWNzIiwiQVJDQURFIiwiYWRkVGlsZXNldEltYWdlIiwiY3JlYXRlTGF5ZXIiLCJsb2FkaW5nQmFyIiwic2V0UHJlbG9hZFNwcml0ZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxH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MEssRUFBUVksWUFBWSxHQUFHdEwsVUFBVyxFQUlsQ3ZDLEtBQUtnTixTQUFTdkwsSUFBSXNELEVBQU9rSSxJQUduQkEsbUZDckRULE1BQUE3SSxFQUFBL0csRUFBQSxHQUVBRSxFQUFBd0csZUFBQSxjQUFvQ0ssRUFBQTFFLFVBSTVCRyxVQUNORyxLQUFLOE4sV0FBYTlOLEtBQUtDLEtBQUtrQyxJQUFJNEgsT0FBTyxFQUFHLElBQUssaUJBQy9DL0osS0FBSzhOLFdBQVczRCxPQUFPQyxNQUFNLEVBQUcsSUFDaENwSyxLQUFLc0UsS0FBS3lKLGlCQUFpQi9OLEtBQUs4TixZQUdoQzlOLEtBQUtDLEtBQUtxRSxLQUFLQyxNQUFNLE9BQVEsMEJBR3ZCMUUsU0FDTkcsS0FBS0MsS0FBSzRELE1BQU1NLE1BQU0seUZDaEJYNUcsRUFBQW1HLFVBQVksSUFDWm5HLEVBQUFvRyxXQUFhIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJpbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uL3N0cnVjdHVyZXMvbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIGV4dGVuZHMgUGhhc2VyLlN0YXRlIHtcblxuXHRwdWJsaWMgcHJlbG9hZCgpIHtcblx0XHRpZiAoIUdhbWVTdGF0ZS5nYW1lTWFuYWdlcikgR2FtZVN0YXRlLmdhbWVNYW5hZ2VyID0gbmV3IEdhbWVNYW5hZ2VyKHRoaXMuZ2FtZSk7XG5cdH1cblx0cHVibGljIHN0YXRpYyBnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIgPSBudWxsO1xufVxuIiwiLyoqXG4gKiBUaGUgZGlyZWN0aW9uc1xuICovXG5leHBvcnQgZW51bSBEaXJlY3Rpb24ge1xuXHR1cCxcblx0ZG93bixcblx0cmlnaHQsXG5cdGxlZnRcbn1cblxuLyoqXG4gKiBUaGUgYm91bGRlciBzdGF0ZXNcbiAqL1xuZXhwb3J0IGVudW0gQm91bGRlclN0YXRlIHtcblx0c3RvcCxcblx0bW92ZVxufVxuXG4vKipcbiAqIFRoZSBoaWRpbmcgdHlwZXNcbiAqL1xuZXhwb3J0IGVudW0gSGlkaW5nVHlwZSB7XG5cdG5vbmUsXG5cdGJ1c2hlcyxcblx0Y2F2ZSxcblx0aGF5c3RhY2tcbn1cblxuZXhwb3J0IGNvbnN0IENoYXJhY3RlclN0YXRlOiBJQ2hhcmFjdGVyU3RhdGUgPSB7XG5cdGRlYWQ6IDAsXG5cdHJ1bjogMSxcblx0c3RhbmQ6IDIsXG5cdHdhbGs6IDNcbn07XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXJTdGF0ZTogSVBsYXllclN0YXRlID0ge1xuXHQuLi5DaGFyYWN0ZXJTdGF0ZSxcblx0aGlkZGVuOiA0XG59O1xuXG5leHBvcnQgY29uc3QgRW5lbXlTdGF0ZTogSUVuZW15U3RhdGUgPSB7XG5cdC4uLkNoYXJhY3RlclN0YXRlLFxuXHRvblJvdXRlOiA0LFxuXHRwdXJzdWl0OiA1XG59O1xuXG4vKipcbiAqIFRoZSBjaGFyYWN0ZXIgc3RhdGVzXG4gKi9cbmludGVyZmFjZSBJQ2hhcmFjdGVyU3RhdGUge1xuXHRkZWFkOiAwO1xuXHRydW46IDE7XG5cdHN0YW5kOiAyO1xuXHR3YWxrOiAzO1xufVxuXG4vKipcbiAqIFRoZSBwbGF5ZXIgc3RhdGVzXG4gKi9cbmludGVyZmFjZSBJUGxheWVyU3RhdGUgZXh0ZW5kcyBJQ2hhcmFjdGVyU3RhdGUge1xuXHRoaWRkZW46IDQ7XG59XG5cbi8qKlxuICogVGhlIGVuZW15IHN0YXRlc1xuICovXG5pbnRlcmZhY2UgSUVuZW15U3RhdGUgZXh0ZW5kcyBJQ2hhcmFjdGVyU3RhdGUge1xuXHRvblJvdXRlOiA0O1xuXHRwdXJzdWl0OiA1O1xufVxuIiwiaW1wb3J0IHsgSXRlbUZhY3RvcnkgfSBmcm9tICcuL0l0ZW1GYWN0b3J5JztcblxuZXhwb3J0IGNsYXNzIEl0ZW0ge1xuXG5cdHB1YmxpYyB0eXBlID0gJ2l0ZW0nO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZ2FtZTogUGhhc2VyLkdhbWUsIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHsgfVxuXG5cdHB1YmxpYyBzZXROYW1lKG5hbWU6IHN0cmluZykge1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgc2V0VHlwZSh0eXBlOiBzdHJpbmcpIHtcblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIGxvYWQoZGF0YTogSUl0ZW1TZXJpYWxpemVkKSB7XG5cdFx0cmV0dXJuIHRoaXNcblx0XHRcdC5zZXROYW1lKGRhdGEubmFtZSlcblx0XHRcdC5zZXRUeXBlKGRhdGEudHlwZSk7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElJdGVtU2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6IHRoaXMubmFtZSxcblx0XHRcdHR5cGU6IHRoaXMuY29uc3RydWN0b3IubmFtZVxuXHRcdH07XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGZhY3RvcnkgPSBuZXcgSXRlbUZhY3RvcnkoKTtcblxufVxuXG5JdGVtLmZhY3Rvcnkuc2V0KCdJdGVtJywgSXRlbSk7XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgaXRlbSBkYXRhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUl0ZW1TZXJpYWxpemVkIHtcblx0bmFtZTogc3RyaW5nO1xuXHR0eXBlOiBzdHJpbmc7XG59XG4iLCJleHBvcnQgY2xhc3MgRmFjdG9yeTxWLCBDIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVj4gZXh0ZW5kcyBNYXA8c3RyaW5nLCBDPiB7fVxuIiwiaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuLi9tYW5hZ2Vycy9HYW1lTWFuYWdlcic7XG5pbXBvcnQgeyBHYW1lT2JqZWN0RmFjdG9yeSB9IGZyb20gJy4vR2FtZU9iamVjdEZhY3RvcnknO1xuXG5leHBvcnQgY2xhc3MgR2FtZU9iamVjdCBleHRlbmRzIFBoYXNlci5TcHJpdGUge1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZ2FtZU1hbmFnZXI6IEdhbWVNYW5hZ2VyLCB4OiBudW1iZXIsIHk6IG51bWJlciwga2V5Pzogc3RyaW5nLCBmcmFtZT86IHN0cmluZykge1xuXHRcdHN1cGVyKGdhbWVNYW5hZ2VyLmdhbWUsIHgsIHksIGtleSwgZnJhbWUpO1xuXHRcdC8vIEFkZCB0aGUgZ2FtZW9iamVjdCBpdHNlbGYgdG8gdGhlIGdhbWVcblx0XHR0aGlzLmdhbWUuYWRkLmV4aXN0aW5nKHRoaXMpO1xuXHRcdHRoaXMuZ2FtZU1hbmFnZXIuZ2FtZU9iamVjdHMucHVzaCh0aGlzKTtcblx0XHR0aGlzLnNtb290aGVkID0gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHRoZSBwb3NpdGlvbiBmb3IgdGhpcyBnYW1lIG9iamVjdFxuXHQgKiBAcGFyYW0geCBUaGUgbmV3IHggcG9zaXRpb25cblx0ICogQHBhcmFtIHkgVGhlIG5ldyB5IHBvc2l0aW9uXG5cdCAqL1xuXHRwdWJsaWMgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcblx0XHR0aGlzLmJvZHkueCA9IHg7XG5cdFx0dGhpcy5ib2R5LnkgPSB5O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgdmVsb2NpdHkgZm9yIHRoaXMgZ2FtZSBvYmplY3Rcblx0ICogQHBhcmFtIHggVGhlIG5ldyB4IHZlbG9jaXR5XG5cdCAqIEBwYXJhbSB5IFRoZSBuZXcgeSB2ZWxvY2l0eVxuXHQgKi9cblx0cHVibGljIHNldFZlbG9jaXR5KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0dGhpcy5ib2R5LnZlbG9jaXR5LnggPSB4O1xuXHRcdHRoaXMuYm9keS52ZWxvY2l0eS55ID0geTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBJbnRlcmFjdHMgd2l0aCBhIGdhbWUgb2JqZWN0IGZyb20gdGhlIGdhbWVcblx0ICogQHBhcmFtIGdhbWVPYmplY3QgVGhlIGdhbWUgb2JqZWN0IHRvIGludGVyYWN0IHdpdGhcblx0ICovXG5cdHB1YmxpYyBpbnRlcmFjdChnYW1lT2JqZWN0OiBHYW1lT2JqZWN0KSB7XG5cdFx0Z2FtZU9iamVjdC5pbnRlcmFjdGlvbih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBIYW5kbGUgdGhlIGludGVyYWN0aW9ucyB0byB0aGlzIGdhbWUgb2JqZWN0XG5cdCAqIEBwYXJhbSBnYW1lT2JqZWN0IFRoZSBnYW1lIG9iamVjdCB0aGF0IGludGVyYWN0ZWQgd2l0aCB0aGlzIGluc3RhbmNlXG5cdCAqL1xuXHRwdWJsaWMgaW50ZXJhY3Rpb24oZ2FtZU9iamVjdDogR2FtZU9iamVjdCkge1xuXHRcdGlmICghKGdhbWVPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0KSlcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGdhbWVPYmplY3QgdG8gYmUgYSBHYW1lT2JqZWN0IGluc3RhbmNlYCk7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGZyYW1lOiB0aGlzLmZyYW1lIGFzIHN0cmluZyxcblx0XHRcdGtleTogdGhpcy5rZXkgYXMgc3RyaW5nLFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0cG9zaXRpb246IHtcblx0XHRcdFx0eDogdGhpcy5wb3NpdGlvbi54LFxuXHRcdFx0XHR5OiB0aGlzLnBvc2l0aW9uLnlcblx0XHRcdH0sXG5cdFx0XHR0eXBlOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0XHR2ZWxvY2l0eToge1xuXHRcdFx0XHR4OiB0aGlzLmJvZHkudmVsb2NpdHkueCxcblx0XHRcdFx0eTogdGhpcy5ib2R5LnZlbG9jaXR5Lnlcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElHYW1lT2JqZWN0U2VyaWFsaXplZCkge1xuXHRcdHRoaXMuZnJhbWUgPSBkYXRhLmZyYW1lO1xuXHRcdHRoaXMua2V5ID0gZGF0YS5rZXk7XG5cdFx0dGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuXHRcdHJldHVybiB0aGlzXG5cdFx0XHQuc2V0UG9zaXRpb24oZGF0YS5wb3NpdGlvbi54LCBkYXRhLnBvc2l0aW9uLnkpXG5cdFx0XHQuc2V0VmVsb2NpdHkoZGF0YS52ZWxvY2l0eS54LCBkYXRhLnZlbG9jaXR5LnkpO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBmYWN0b3J5ID0gbmV3IEdhbWVPYmplY3RGYWN0b3J5KCk7XG5cbn1cblxuR2FtZU9iamVjdC5mYWN0b3J5LnNldCgnR2FtZU9iamVjdCcsIEdhbWVPYmplY3QpO1xuXG4vKipcbiAqIFRoZSBzZXJpYWxpemVkIGdhbWUgb2JqZWN0IGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJR2FtZU9iamVjdFNlcmlhbGl6ZWQge1xuXHRmcmFtZTogc3RyaW5nO1xuXHRrZXk6IHN0cmluZztcblx0bmFtZTogc3RyaW5nO1xuXHRwb3NpdGlvbjoge1xuXHRcdHg6IG51bWJlcjtcblx0XHR5OiBudW1iZXI7XG5cdH07XG5cdHR5cGU6IHN0cmluZztcblx0dmVsb2NpdHk6IHtcblx0XHR4OiBudW1iZXI7XG5cdFx0eTogbnVtYmVyO1xuXHR9O1xufVxuIiwiaW1wb3J0IHsgQm9vdFN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvQm9vdFN0YXRlJztcbmltcG9ydCB7IE1lbnVTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL01lbnVTdGF0ZSc7XG5pbXBvcnQgeyBOZXdHYW1lU3RhdGUgfSBmcm9tICcuL3N0YXRlcy9OZXdHYW1lU3RhdGUnO1xuaW1wb3J0IHsgUGxheVN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvUGxheVN0YXRlJztcbmltcG9ydCB7IFByZWxvYWRlclN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvUHJlbG9hZGVyU3RhdGUnO1xuaW1wb3J0IHsgV0lOX0hFSUdIVCwgV0lOX1dJRFRIIH0gZnJvbSAnLi91dGlsL2NvbnN0YW50cyc7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiBvbmxvYWQoKSB7XG5cdGNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoV0lOX1dJRFRILCBXSU5fSEVJR0hULCBQaGFzZXIuQVVUTywgJ2dhbWUnKTtcblxuXHRnYW1lLnN0YXRlLmFkZCgnYm9vdCcsIEJvb3RTdGF0ZSk7XG5cdGdhbWUuc3RhdGUuYWRkKCdwcmVsb2FkZXInLCBQcmVsb2FkZXJTdGF0ZSk7XG5cdGdhbWUuc3RhdGUuYWRkKCdwbGF5JywgUGxheVN0YXRlKTtcblx0Z2FtZS5zdGF0ZS5hZGQoJ21lbnUnLCBNZW51U3RhdGUpO1xuXHRnYW1lLnN0YXRlLmFkZCgnbmV3R2FtZScsIE5ld0dhbWVTdGF0ZSk7XG5cblx0Z2FtZS5zdGF0ZS5zdGFydCgnYm9vdCcpO1xufTtcbiIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gJy4vR2FtZVN0YXRlJztcblxuZXhwb3J0IGNsYXNzIEJvb3RTdGF0ZSBleHRlbmRzIEdhbWVTdGF0ZSB7XG5cdHB1YmxpYyBwcmVsb2FkKCkge1xuXHRcdHN1cGVyLnByZWxvYWQoKTtcblx0XHQvLyBsb2FkIGhlcmUgYXNzZXRzIHJlcXVpcmVkIGZvciB0aGUgbG9hZGluZyBzY3JlZW5cblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZSgncHJlbG9hZGVyX2JhcicsICdpbWFnZXMvcHJlbG9hZGVyX2Jhci5wbmcnKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0dGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdwcmVsb2FkZXInKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vZ2FtZU9iamVjdHMvY2hhcmFjdGVycy9QbGF5ZXInO1xuaW1wb3J0IHsgR2FtZU9iamVjdCB9IGZyb20gJy4uL2dhbWVPYmplY3RzL0dhbWVPYmplY3QnO1xuaW1wb3J0IHsgTWFwTWFuYWdlciB9IGZyb20gJy4vTWFwTWFuYWdlcic7XG5pbXBvcnQgeyBTdG9yYWdlTWFuYWdlciB9IGZyb20gJy4vU3RvcmFnZU1hbmFnZXInO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hbmFnZXIge1xuXHRwdWJsaWMgbWFwTWFuYWdlcjogTWFwTWFuYWdlciA9IG51bGw7XG5cdHB1YmxpYyBzdG9yYWdlTWFuYWdlciA9IG5ldyBTdG9yYWdlTWFuYWdlcih0aGlzKTtcblx0cHVibGljIGdhbWVPYmplY3RzOiBHYW1lT2JqZWN0W10gPSBbXTtcblx0cHVibGljIHBsYXllcjogUGxheWVyID0gbnVsbDtcblx0cHVibGljIHBsYXllck5hbWU6IHN0cmluZyA9IG51bGw7XG5cdHB1YmxpYyBsZXZlbCA9IEdhbWVMZXZlbHMuRmlyc3Q7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBnYW1lOiBQaGFzZXIuR2FtZSkgeyB9XG5cblx0cHVibGljIGNsZWFyKCkge1xuXHRcdGZvciAoY29uc3QgZ2FtZU9iamVjdCBvZiB0aGlzLmdhbWVPYmplY3RzKSBnYW1lT2JqZWN0LmRlc3Ryb3kodHJ1ZSk7XG5cdFx0dGhpcy5nYW1lT2JqZWN0cy5sZW5ndGggPSAwO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn1cblxuLyoqXG4gKiBUaGUgZ2FtZSdzIGxldmVsc1xuICovXG5leHBvcnQgZW51bSBHYW1lTGV2ZWxzIHtcblx0Rmlyc3Rcbn1cbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uL2dhbWVPYmplY3RzL2NoYXJhY3RlcnMvUGxheWVyJztcbmltcG9ydCB7IEdhbWVPYmplY3QsIElHYW1lT2JqZWN0U2VyaWFsaXplZCB9IGZyb20gJy4uL2dhbWVPYmplY3RzL0dhbWVPYmplY3QnO1xuaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuL0dhbWVNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0b3JhZ2VNYW5hZ2VyIHtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIpIHsgfVxuXG5cdHB1YmxpYyBzYXZlKCkge1xuXHRcdGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lT2JqZWN0cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuZ2FtZU1hbmFnZXIuZ2FtZU9iamVjdHMpKTtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV2ZWwnLCB0aGlzLmdhbWVNYW5hZ2VyLmxldmVsLnRvU3RyaW5nKCkpO1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwbGF5ZXJOYW1lJywgdGhpcy5nYW1lTWFuYWdlci5wbGF5ZXJOYW1lKTtcblx0fVxuXG5cdHB1YmxpYyBsb2FkKCkge1xuXHRcdC8vIENsZWFyIHRoZSBnYW1lIG1hbmFnZXJcblx0XHR0aGlzLmdhbWVNYW5hZ2VyLmNsZWFyKCk7XG5cblx0XHQvLyBMb2FkIHRoZSBkYXRhXG5cdFx0Y29uc3QgcmF3TGV2ZWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV2ZWwnKTtcblx0XHRpZiAocmF3TGV2ZWwgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBmaWxlLmApO1xuXHRcdGNvbnN0IGxldmVsID0gTnVtYmVyKHJhd0xldmVsKTtcblxuXHRcdHRoaXMuZ2FtZU1hbmFnZXIubGV2ZWwgPSBsZXZlbDtcblxuXHRcdGNvbnN0IGdhbWVPYmplY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZU9iamVjdHMnKSkgYXMgSUdhbWVPYmplY3RTZXJpYWxpemVkW107XG5cdFx0aWYgKGdhbWVPYmplY3RzKSB0aGlzLmxvYWRHYW1lT2JqZWN0cyhnYW1lT2JqZWN0cyk7XG5cblx0XHRjb25zdCBwbGF5ZXJOYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BsYXllck5hbWUnKTtcblx0XHRpZiAocGxheWVyTmFtZSkgdGhpcy5sb2FkUGxheWVyTmFtZShwbGF5ZXJOYW1lKTtcblx0fVxuXG5cdHB1YmxpYyBsb2FkR2FtZU9iamVjdHMoZ2FtZU9iamVjdHM6IElHYW1lT2JqZWN0U2VyaWFsaXplZFtdKSB7XG5cdFx0Y29uc29sZS5sb2codGhpcyk7XG5cdFx0Zm9yIChjb25zdCBnYW1lT2JqZWN0IG9mIGdhbWVPYmplY3RzKSB7XG5cdFx0XHRjb25zdCBDdG9yID0gR2FtZU9iamVjdC5mYWN0b3J5LmdldChnYW1lT2JqZWN0LnR5cGUpO1xuXHRcdFx0aWYgKEN0b3IpIG5ldyBDdG9yKHRoaXMuZ2FtZU1hbmFnZXIsIDAsIDAsIGdhbWVPYmplY3Qua2V5LCBnYW1lT2JqZWN0LmZyYW1lKS5mcm9tSlNPTihnYW1lT2JqZWN0KTtcblx0XHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBhIGNvbnN0cnVjdG9yIGZvciAke2dhbWVPYmplY3QudHlwZSB8fCAndW5rbm93bid9LiBBYm9ydGluZy5gKTtcblx0XHR9XG5cblx0XHR0aGlzLmdhbWVNYW5hZ2VyLnBsYXllciA9IHRoaXMuZ2FtZU1hbmFnZXIuZ2FtZU9iamVjdHMuZmluZCgoZ2FtZU9iamVjdCkgPT4gZ2FtZU9iamVjdCBpbnN0YW5jZW9mIFBsYXllcikgYXMgUGxheWVyO1xuXHR9XG5cblx0cHVibGljIGxvYWRQbGF5ZXJOYW1lKHBsYXllck5hbWU6IHN0cmluZykge1xuXHRcdHRoaXMuZ2FtZU1hbmFnZXIucGxheWVyTmFtZSA9IHBsYXllck5hbWU7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuLi8uLi9tYW5hZ2Vycy9HYW1lTWFuYWdlcic7XG5pbXBvcnQgeyBEaXJlY3Rpb24sIEhpZGluZ1R5cGUsIFBsYXllclN0YXRlIH0gZnJvbSAnLi4vLi4vbWlzYy90eXBlcyc7XG5pbXBvcnQgeyBIaWRpbmdTcG90LCBJSGlkaW5nU3BvdFNlcmlhbGl6ZWQgfSBmcm9tICcuLi9oaWRpbmdTcG90cy9IaWRpbmdTcG90JztcbmltcG9ydCB7IENoYXJhY3RlciwgSUNoYXJhY3RlclNlcmlhbGl6ZWQgfSBmcm9tICcuL0NoYXJhY3Rlcic7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBDaGFyYWN0ZXIge1xuXG5cdHB1YmxpYyBoaWRpbmdTcG90OiBIaWRpbmdTcG90ID0gbnVsbDtcblx0cHVibGljIG1vbmV5ID0gMDtcblx0cHJpdmF0ZSByZWFkb25seSBkaXJlY3Rpb25zID0ge1xuXHRcdGRvd246IGZhbHNlLFxuXHRcdGxlZnQ6IGZhbHNlLFxuXHRcdHJpZ2h0OiBmYWxzZSxcblx0XHR1cDogZmFsc2Vcblx0fTtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IoZ2FtZU1hbmFnZXI6IEdhbWVNYW5hZ2VyLCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuXHRcdHN1cGVyKGdhbWVNYW5hZ2VyLCB4LCB5LCAncGxheWVyJyk7XG5cdFx0dGhpcy5nYW1lLmNhbWVyYS5mb2xsb3codGhpcyk7XG5cdH1cblxuXHRwdWJsaWMgdXBkYXRlKCkge1xuXHRcdHRoaXMuZGlyZWN0aW9ucy5kb3duID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuRE9XTik7XG5cdFx0dGhpcy5kaXJlY3Rpb25zLmxlZnQgPSB0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5MRUZUKTtcblx0XHR0aGlzLmRpcmVjdGlvbnMucmlnaHQgPSB0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5SSUdIVCk7XG5cdFx0dGhpcy5kaXJlY3Rpb25zLnVwID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuVVApO1xuXHRcdGNvbnN0IHJ1bm5pbmcgPSB0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5TSElGVCk7XG5cblx0XHRpZiAodGhpcy5kaXJlY3Rpb25zLmRvd24gIT09IHRoaXMuZGlyZWN0aW9ucy51cCkge1xuXHRcdFx0dGhpcy5kaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbnMuZG93biA/IERpcmVjdGlvbi5kb3duIDogRGlyZWN0aW9uLnVwO1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHRoaXMucnVuKCk7XG5cdFx0XHRlbHNlIHRoaXMud2FsaygpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb25zLmxlZnQgIT09IHRoaXMuZGlyZWN0aW9ucy5yaWdodCkge1xuXHRcdFx0dGhpcy5kaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbnMubGVmdCA/IERpcmVjdGlvbi5sZWZ0IDogRGlyZWN0aW9uLnJpZ2h0O1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHRoaXMucnVuKCk7XG5cdFx0XHRlbHNlIHRoaXMud2FsaygpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN0YW5kKCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEhpZGVzIHRoZSBwbGF5ZXIsIGNoYW5naW5nIHRoZSBzdGF0ZSBhbmQgc2V0dGluZyB0aGUgaGlkaW5nIHNwb3Rcblx0ICogQHBhcmFtIGhpZGluZ1Nwb3QgVGhlIGhpZGluZyBzcG90XG5cdCAqL1xuXHRwdWJsaWMgaGlkZShoaWRpbmdTcG90OiBIaWRpbmdTcG90KSB7XG5cdFx0aWYgKGhpZGluZ1Nwb3QuaGlkaW5nVHlwZSAhPT0gSGlkaW5nVHlwZS5ub25lKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKFBsYXllclN0YXRlLmhpZGRlbik7XG5cdFx0XHR0aGlzLmhpZGluZ1Nwb3QgPSBoaWRpbmdTcG90O1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXZlYWxzIHRoZSBwbGF5ZXIsIGxlYXZpbmcgdGhlIGhpZGluZyBwbGFjZSBpZiB0aGVyZSB3YXMgYW55XG5cdCAqL1xuXHRwdWJsaWMgcmV2ZWFsKCkge1xuXHRcdGlmICh0aGlzLmhpZGluZ1Nwb3QpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUodGhpcy5oZWFsdGggPyBQbGF5ZXJTdGF0ZS5zdGFuZCA6IFBsYXllclN0YXRlLmRlYWQpO1xuXHRcdFx0dGhpcy5oaWRpbmdTcG90ID0gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgZnJvbUpTT04oZGF0YTogSVBsYXllclNlcmlhbGl6ZWQpIHtcblx0XHRzdXBlci5mcm9tSlNPTihkYXRhKTtcblx0XHR0aGlzLm1vbmV5ID0gZGF0YS5tb25leTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogSVBsYXllclNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci50b0pTT04oKSxcblx0XHRcdGhpZGluZ1Nwb3Q6IHRoaXMuaGlkaW5nU3BvdC50b0pTT04oKSxcblx0XHRcdG1vbmV5OiB0aGlzLm1vbmV5XG5cdFx0fTtcblx0fVxuXG59XG5cblBsYXllci5mYWN0b3J5LnNldCgnUGxheWVyJywgUGxheWVyKTtcblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBwbGF5ZXIgZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElQbGF5ZXJTZXJpYWxpemVkIGV4dGVuZHMgSUNoYXJhY3RlclNlcmlhbGl6ZWQge1xuXHRoaWRpbmdTcG90OiBJSGlkaW5nU3BvdFNlcmlhbGl6ZWQ7XG5cdG1vbmV5OiBudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBJSW52ZW50b3J5U2VyaWFsaXplZCwgSW52ZW50b3J5IH0gZnJvbSAnLi4vLi4vY29tbW9uL0ludmVudG9yeSc7XG5pbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi4vLi4vaXRlbXMvSXRlbSc7XG5pbXBvcnQgeyBJdGVtV2VhcG9uIH0gZnJvbSAnLi4vLi4vaXRlbXMvSXRlbVdlYXBvbic7XG5pbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uLy4uL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcbmltcG9ydCB7IENoYXJhY3RlclN0YXRlLCBEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IEdhbWVPYmplY3QsIElHYW1lT2JqZWN0U2VyaWFsaXplZCB9IGZyb20gJy4uL0dhbWVPYmplY3QnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIGV4dGVuZHMgR2FtZU9iamVjdCB7XG5cdHB1YmxpYyB3YWxrU3BlZWQgPSAwO1xuXHRwdWJsaWMgcnVuU3BlZWQgPSAwO1xuXHRwdWJsaWMgc3RhdGU6IG51bWJlciA9IENoYXJhY3RlclN0YXRlLnN0YW5kO1xuXHRwdWJsaWMgZGlyZWN0aW9uID0gRGlyZWN0aW9uLmRvd247XG5cdHB1YmxpYyBpbnZlbnRvcnkgPSBuZXcgSW52ZW50b3J5KCk7XG5cdHB1YmxpYyBzdHJlbmd0aCA9IDA7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGtleT86IHN0cmluZywgZnJhbWU/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlciwgeCwgeSwga2V5LCBmcmFtZSk7XG5cdFx0dGhpcy5nYW1lLnBoeXNpY3MuZW5hYmxlKHRoaXMpO1xuXHR9XG5cblx0cHVibGljIGdldCBkYW1hZ2VTdHJlbmd0aCgpIHtcblx0XHRjb25zdCBpdGVtID0gdGhpcy5pbnZlbnRvcnkuYWN0aXZlO1xuXHRcdHJldHVybiBpdGVtIGluc3RhbmNlb2YgSXRlbVdlYXBvbiA/IGl0ZW0uZGFtYWdlIDogdGhpcy5zdHJlbmd0aDtcblx0fVxuXG5cdHB1YmxpYyBzZXRTdHJlbmd0aChzdHJlbmd0aDogbnVtYmVyKSB7XG5cdFx0dGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHNldFN0YXRlKHN0YXRlOiBudW1iZXIpIHtcblx0XHR0aGlzLnN0YXRlID0gc3RhdGU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogVHJ5IHRvIGF0dGFjayBhIGNoYXJhY3RlclxuXHQgKiBAcGFyYW0gY2hhcmFjdGVyIFRoZSBjaGFyYWN0ZXIgdGhpcyBvbmUgaXMgYXR0ZW1wdGluZyB0byBhdHRhY2tcblx0ICovXG5cdHB1YmxpYyBhdHRhY2soY2hhcmFjdGVyOiBDaGFyYWN0ZXIpIHtcblx0XHRjaGFyYWN0ZXIuZGFtYWdlKHRoaXMuZGFtYWdlU3RyZW5ndGgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEtpbGwgb3ZlcmxvYWQgdG8gc2V0IHRoZSBjaGFyYWN0ZXIncyBzdGF0ZVxuXHQgKi9cblx0cHVibGljIGtpbGwoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5kZWFkKTtcblx0XHRyZXR1cm4gc3VwZXIua2lsbCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHdhbGtcblx0ICovXG5cdHB1YmxpYyB3YWxrKCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoQ2hhcmFjdGVyU3RhdGUud2Fsayk7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjogdGhpcy5zZXRWZWxvY2l0eSgwLCB0aGlzLndhbGtTcGVlZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24udXA6IHRoaXMuc2V0VmVsb2NpdHkoMCwgLXRoaXMud2Fsa1NwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi5sZWZ0OiB0aGlzLnNldFZlbG9jaXR5KC10aGlzLndhbGtTcGVlZCwgMCk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhpcy5zZXRWZWxvY2l0eSh0aGlzLndhbGtTcGVlZCwgMCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHJ1blxuXHQgKi9cblx0cHVibGljIHJ1bigpIHtcblx0XHR0aGlzLnNldFN0YXRlKENoYXJhY3RlclN0YXRlLnJ1bik7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjogdGhpcy5zZXRWZWxvY2l0eSgwLCB0aGlzLnJ1blNwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi51cDogdGhpcy5zZXRWZWxvY2l0eSgwLCAtdGhpcy5ydW5TcGVlZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24ubGVmdDogdGhpcy5zZXRWZWxvY2l0eSgtdGhpcy5ydW5TcGVlZCwgMCk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhpcy5zZXRWZWxvY2l0eSh0aGlzLnJ1blNwZWVkLCAwKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgc3RhdGUgb2YgdGhpcyBjaGFyYWN0ZXIgdG8gc3RhbmQsIGNoYW5naW5nXG5cdCAqL1xuXHRwdWJsaWMgc3RhbmQoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5zdGFuZCk7XG5cdFx0dGhpcy5zZXRWZWxvY2l0eSgwLCAwKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgdGhlIGRpcmVjdGlvbiBmb3IgdGhpcyBjaGFyYWN0ZXJcblx0ICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgbmV3IGRpcmVjdGlvblxuXHQgKi9cblx0cHVibGljIGNoYW5nZURpcmVjdGlvbihkaXJlY3Rpb246IERpcmVjdGlvbikge1xuXHRcdHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElDaGFyYWN0ZXJTZXJpYWxpemVkKSB7XG5cdFx0c3VwZXIuZnJvbUpTT04oZGF0YSk7XG5cdFx0dGhpcy5kaXJlY3Rpb24gPSBkYXRhLmRpcmVjdGlvbjtcblx0XHR0aGlzLnJ1blNwZWVkID0gZGF0YS5ydW5TcGVlZDtcblx0XHR0aGlzLndhbGtTcGVlZCA9IGRhdGEud2Fsa1NwZWVkO1xuXHRcdHRoaXMuaW52ZW50b3J5LmNsZWFyKCk7XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBkYXRhLmludmVudG9yeS5pdGVtcykgdGhpcy5pbnZlbnRvcnkuc2V0KGVudHJ5Lm5hbWUsIG5ldyBJdGVtKHRoaXMuZ2FtZSwgZW50cnkubmFtZSkpO1xuXHRcdHRoaXMuc2V0U3RyZW5ndGgoZGF0YS5zdHJlbmd0aCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElDaGFyYWN0ZXJTZXJpYWxpemVkIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIudG9KU09OKCksXG5cdFx0XHRkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uLFxuXHRcdFx0aW52ZW50b3J5OiB0aGlzLmludmVudG9yeS50b0pTT04oKSxcblx0XHRcdHJ1blNwZWVkOiB0aGlzLnJ1blNwZWVkLFxuXHRcdFx0c3RyZW5ndGg6IHRoaXMuc3RyZW5ndGgsXG5cdFx0XHR3YWxrU3BlZWQ6IHRoaXMud2Fsa1NwZWVkLFxuXHRcdH07XG5cdH1cblxufVxuXG5DaGFyYWN0ZXIuZmFjdG9yeS5zZXQoJ0NoYXJhY3RlcicsIENoYXJhY3Rlcik7XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgY2hhcmFjdGVyIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ2hhcmFjdGVyU2VyaWFsaXplZCBleHRlbmRzIElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdGRpcmVjdGlvbjogbnVtYmVyO1xuXHRpbnZlbnRvcnk6IElJbnZlbnRvcnlTZXJpYWxpemVkO1xuXHRydW5TcGVlZDogbnVtYmVyO1xuXHRzdHJlbmd0aDogbnVtYmVyO1xuXHR3YWxrU3BlZWQ6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IElJdGVtU2VyaWFsaXplZCwgSXRlbSB9IGZyb20gJy4uL2l0ZW1zL0l0ZW0nO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5IGV4dGVuZHMgTWFwPHN0cmluZywgSXRlbT4ge1xuXG5cdHB1YmxpYyBhY3RpdmU6IEl0ZW07XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgYWN0aXZlIGl0ZW0gZnJvbSB0aGUgaW52ZW50b3J5XG5cdCAqIEBwYXJhbSBpdGVtIFRoZSBuZXcgYWN0aXZlIGl0ZW1cblx0ICovXG5cdHB1YmxpYyBzZXRBY3RpdmUoaXRlbTogSXRlbSkge1xuXHRcdHRoaXMuYWN0aXZlID0gaXRlbTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogSUludmVudG9yeVNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHRhY3RpdmU6IHRoaXMuYWN0aXZlLm5hbWUsXG5cdFx0XHRpdGVtczogWy4uLnRoaXMudmFsdWVzKCldXG5cdFx0fTtcblx0fVxuXG59XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgaW52ZW50b3J5IGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSW52ZW50b3J5U2VyaWFsaXplZCB7XG5cdGFjdGl2ZTogc3RyaW5nO1xuXHRpdGVtczogSUl0ZW1TZXJpYWxpemVkW107XG59XG4iLCJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSAnLi4vY29tbW9uL0ZhY3RvcnknO1xuaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbSc7XG5cbmV4cG9ydCBjbGFzcyBJdGVtRmFjdG9yeSBleHRlbmRzIEZhY3Rvcnk8SXRlbSwgdHlwZW9mIEl0ZW0+eyB9XG4iLCJpbXBvcnQgeyBJSXRlbVNlcmlhbGl6ZWQsIEl0ZW0gfSBmcm9tICcuL0l0ZW0nO1xuXG5leHBvcnQgY2xhc3MgSXRlbVdlYXBvbiBleHRlbmRzIEl0ZW0ge1xuXHRwdWJsaWMgZGFtYWdlID0gMDtcblxuXHQvKipcblx0ICogU2V0IHRoZSBkYW1hZ2UgZm9yIHRoaXMgd2VhcG9uXG5cdCAqIEBwYXJhbSBkYW1hZ2UgVGhlIGRhbWFnZSB0aGlzIHdlYXBvbiBkZWFsc1xuXHQgKi9cblx0cHVibGljIHNldERhbWFnZShkYW1hZ2U6IG51bWJlcikge1xuXHRcdHRoaXMuZGFtYWdlID0gZGFtYWdlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIGxvYWQoZGF0YTogSUl0ZW1XZWFwb25TZXJpYWxpemVkKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmxvYWQoZGF0YSkuc2V0RGFtYWdlKGRhdGEuZGFtYWdlKTtcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0ZGFtYWdlOiB0aGlzLmRhbWFnZVxuXHRcdH07XG5cdH1cblxufVxuXG5JdGVtLmZhY3Rvcnkuc2V0KCdJdGVtV2VhcG9uJywgSXRlbVdlYXBvbik7XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgaXRlbSB3ZWFwb24gZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElJdGVtV2VhcG9uU2VyaWFsaXplZCBleHRlbmRzIElJdGVtU2VyaWFsaXplZCB7XG5cdGRhbWFnZTogbnVtYmVyO1xufVxuIiwiaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gJy4uL2NvbW1vbi9GYWN0b3J5JztcbmltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuL0dhbWVPYmplY3QnO1xuXG5leHBvcnQgY2xhc3MgR2FtZU9iamVjdEZhY3RvcnkgZXh0ZW5kcyBGYWN0b3J5PEdhbWVPYmplY3QsIHR5cGVvZiBHYW1lT2JqZWN0PnsgfVxuIiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSAnLi9HYW1lU3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgTWVudVN0YXRlIGV4dGVuZHMgR2FtZVN0YXRlIHtcblxuXHRwdWJsaWMgdGV4dHM6IFBoYXNlci5UZXh0W10gPSBbXTtcblx0cHVibGljIGxvZ286IFBoYXNlci5TcHJpdGUgPSBudWxsO1xuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0dGhpcy5nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9ICcjMkExQjE5Jztcblx0XHR0aGlzLmxvZ28gPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSh0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclkgLSAxMjAsICdsb2dvJyk7XG5cdFx0dGhpcy5sb2dvLmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XG5cdFx0dGhpcy5sb2dvLnNjYWxlLnNldFRvKDAuNSwgMC41KTtcblxuXHRcdHRoaXMuY3JlYXRlQnV0dG9uKCdOZXcgR2FtZScsICgpID0+IHtcblx0XHRcdHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgnbmV3R2FtZScpO1xuXHRcdH0pO1xuXHRcdGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV2ZWwnKSkgdGhpcy5jcmVhdGVCdXR0b24oJ0NvbnRpbnVlJywgKCkgPT4ge1xuXHRcdFx0R2FtZVN0YXRlLmdhbWVNYW5hZ2VyLnN0b3JhZ2VNYW5hZ2VyLmxvYWQoKTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzaHV0ZG93bigpIHtcblx0XHRmb3IgKGNvbnN0IHRleHQgb2YgdGhpcy50ZXh0cykgdGV4dC5kZXN0cm95KHRydWUpO1xuXHRcdHRoaXMudGV4dHMubGVuZ3RoID0gMDtcblx0XHR0aGlzLmxvZ28uZGVzdHJveSh0cnVlKTtcblx0XHRzdXBlci5zaHV0ZG93bigpO1xuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVCdXR0b24obmFtZTogc3RyaW5nLCBjYjogRnVuY3Rpb24pIHtcblx0XHRjb25zdCB0ZXh0ID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgbmFtZSwgeyBmb250OiAnNjVweCBBcmlhbCcsIGZpbGw6ICcjQ0RDRENEJywgYWxpZ246ICdjZW50ZXInIH0pO1xuXHRcdHRleHQuYW5jaG9yLnNldCgwLjUpO1xuXHRcdHRleHQuaW5wdXRFbmFibGVkID0gdHJ1ZTtcblx0XHR0ZXh0LmV2ZW50cy5vbklucHV0VXAuYWRkKGNiLCB0aGlzKTtcblx0XHR0ZXh0LmV2ZW50cy5vbklucHV0RG93bi5hZGQoKCkgPT4ge1xuXHRcdFx0dGV4dC5maWxsID0gJyNGRjAwNDQnO1xuXHRcdFx0dGV4dC5ldmVudHMub25JbnB1dE92ZXIucmVtb3ZlQWxsKCk7XG5cdFx0XHR0ZXh0LmV2ZW50cy5vbklucHV0T3V0LnJlbW92ZUFsbCgpO1xuXHRcdH0pO1xuXHRcdHRleHQuZXZlbnRzLm9uSW5wdXRPdmVyLmFkZCgoKSA9PiB7IHRleHQuZmlsbCA9ICcjRkZGRkZGJzsgfSk7XG5cdFx0dGV4dC5ldmVudHMub25JbnB1dE91dC5hZGQoKCkgPT4geyB0ZXh0LmZpbGwgPSAnI0VGRUZFRic7IH0pO1xuXHRcdHRoaXMudGV4dHMucHVzaCh0ZXh0KTtcblx0XHR0ZXh0LmFsaWduVG8odGhpcy50ZXh0cy5sZW5ndGggPyB0aGlzLnRleHRzW3RoaXMudGV4dHMubGVuZ3RoIC0gMV0gOiB0aGlzLmxvZ28sIFBoYXNlci5CT1RUT01fQ0VOVEVSLCAxNik7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgcmVhZExpbmUgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSAnLi9HYW1lU3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgTmV3R2FtZVN0YXRlIGV4dGVuZHMgR2FtZVN0YXRlIHtcblxuXHRwdWJsaWMgcHJlbG9hZCgpIHtcblx0XHR0aGlzLmdhbWUubG9hZC5qc29uKCdMZXZlbC0wLUdhbWVPYmplY3RzJywgJ2pzb24vTGV2ZWwtMC1HYW1lT2JqZWN0cy5qc29uJyk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdGNvbnN0IHRpdGxlVGV4dCA9IHRoaXMuZ2FtZS5hZGQudGV4dCh0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclkgLSA2NSwgJ0luc2VydCB5b3VyIG5hbWUnLFxuXHRcdFx0eyBmb250OiAnNjVweCBBcmlhbCcsIGZpbGw6ICcjQ0RDRENEJywgYWxpZ246ICdjZW50ZXInIH0pO1xuXHRcdHRpdGxlVGV4dC5hbmNob3Iuc2V0VG8oMC41LCAwLjUpO1xuXG5cdFx0Y29uc3QgaW5wdXRUZXh0ID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgJycsXG5cdFx0XHR7IGZvbnQ6ICc2NXB4IEFyaWFsJywgZmlsbDogJyNDRENEQ0QnLCBhbGlnbjogJ2NlbnRlcicgfSk7XG5cdFx0aW5wdXRUZXh0LmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XG5cdFx0aW5wdXRUZXh0LmFsaWduVG8odGl0bGVUZXh0LCBQaGFzZXIuQk9UVE9NX0NFTlRFUiwgMCwgMjUpO1xuXG5cdFx0cmVhZExpbmUoaW5wdXRUZXh0LCAobmFtZSkgPT4ge1xuXHRcdFx0dGl0bGVUZXh0LmRlc3Ryb3kodHJ1ZSk7XG5cdFx0XHRpbnB1dFRleHQuZGVzdHJveSh0cnVlKTtcblx0XHRcdHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgncGxheScpO1xuXHRcdFx0Y29uc3QgZ2FtZU1hbmFnZXIgPSBHYW1lU3RhdGUuZ2FtZU1hbmFnZXI7XG5cdFx0XHRnYW1lTWFuYWdlci5wbGF5ZXJOYW1lID0gbmFtZTtcblx0XHRcdGdhbWVNYW5hZ2VyLnN0b3JhZ2VNYW5hZ2VyLmxvYWRHYW1lT2JqZWN0cyh0aGlzLmdhbWUuY2FjaGUuZ2V0SlNPTignTGV2ZWwtMC1HYW1lT2JqZWN0cycpKTtcblx0XHR9LCB7IG1heGltdW1MZW5ndGg6IDIwIH0pO1xuXHR9XG5cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjaHVuazxUPihlbnRyaWVzOiBUW10sIGNodW5rU2l6ZTogbnVtYmVyKTogVFtdW10ge1xuXHRjb25zdCBjbG9uZSA9IGVudHJpZXMuc2xpY2UoKTtcblx0Y29uc3QgY2h1bmtzID0gW107XG5cdHdoaWxlIChjbG9uZS5sZW5ndGgpIGNodW5rcy5wdXNoKGNsb25lLnNwbGljZSgwLCBjaHVua1NpemUpKTtcblx0cmV0dXJuIGNodW5rcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRMaW5lKHRleHQ6IFBoYXNlci5UZXh0LCBjYjogKHRleHQ6IHN0cmluZykgPT4gdm9pZCwgb3B0aW9ucz86IFBoYXNlclJlYWRMaW5lT3B0aW9ucykge1xuXHRjb25zdCBjb250ZW50ID0gW107XG5cdGNvbnN0IG1heGltdW0gPSAnbWF4aW11bUxlbmd0aCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMubWF4aW11bUxlbmd0aCA6IDEwMDtcblxuXHRjb25zdCBsaXN0ZW5lciA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsaXN0ZW5lcik7XG5cdFx0XHRjYihjb250ZW50LmpvaW4oJycpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykge1xuXHRcdFx0aWYgKGNvbnRlbnQubGVuZ3RoKSBjb250ZW50LnBvcCgpO1xuXHRcdH0gZWxzZSBpZiAoY29udGVudC5sZW5ndGggPD0gbWF4aW11bSAmJiAvXltcXChcXClcXFtcXF1cXHdcXGRcXC0hP8Khwr8gXSQvLnRlc3QoZXZlbnQua2V5KSkge1xuXHRcdFx0Y29udGVudC5wdXNoKGV2ZW50LmtleSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0ZXh0LnRleHQgPSBjb250ZW50LmpvaW4oJycpO1xuXHR9O1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbGlzdGVuZXIpO1xufVxuXG4vKipcbiAqIFRoZSByZWFkbGluZSBvcHRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGhhc2VyUmVhZExpbmVPcHRpb25zIHtcblx0bWF4aW11bUxlbmd0aD86IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gJy4vR2FtZVN0YXRlJztcblxuZXhwb3J0IGNsYXNzIFBsYXlTdGF0ZSBleHRlbmRzIEdhbWVTdGF0ZSB7XG5cdHB1YmxpYyB0aWxlbWFwczogTWFwPG51bWJlciwgUGhhc2VyLlRpbGVtYXA+ID0gbmV3IE1hcCgpO1xuXG5cdHB1YmxpYyBwcmVsb2FkKCkge1xuXHRcdHRoaXMuZ2FtZS5sb2FkLnRpbGVtYXAoJ0xldmVsLTAnLCBganNvbi9MZXZlbC0wLmpzb25gLCBudWxsLCBQaGFzZXIuVGlsZW1hcC5USUxFRF9KU09OKTtcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZSgnb3ZlcndvcmxkJywgJ2ltYWdlcy9vdmVyd29ybGQucG5nJyk7XG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ2NhdmUnLCAnaW1hZ2VzL2NhdmUucG5nJyk7XG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ29iamVjdHMnLCAnaW1hZ2VzL29iamVjdHMucG5nJyk7XG5cdFx0dGhpcy5nYW1lLmxvYWQuc3ByaXRlc2hlZXQoJ3BsYXllcicsICdpbWFnZXMvcGxheWVyLnBuZycsIDE2LCAzMik7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdHRoaXMuZ2V0VGlsZW1hcCgwKTtcblxuXHRcdHRoaXMuY2FtZXJhLnNjYWxlLnNldFRvKDMsIDMpO1xuXHRcdHRoaXMuZ2FtZS5hZGQudGlsZVNwcml0ZSgwLCAwLCAxNiwgMzIsICdwbGF5ZXInKTtcblxuXHRcdC8vIFByZXZlbnQgZGlyZWN0aW9ucyBhbmQgc3BhY2Uga2V5IGV2ZW50cyBidWJibGluZyB1cCB0byBicm93c2VyLFxuXHRcdC8vIHNpbmNlIHRoZXNlIGtleXMgd2lsbCBtYWtlIHdlYiBwYWdlIHNjcm9sbCB3aGljaCBpcyBub3Rcblx0XHQvLyBleHBlY3RlZC5cblx0XHR0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5Q2FwdHVyZShbXG5cdFx0XHRQaGFzZXIuS2V5Ym9hcmQuTEVGVCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5SSUdIVCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5VUCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5ET1dOLFxuXHRcdFx0UGhhc2VyLktleWJvYXJkLlNQQUNFQkFSXG5cdFx0XSk7XG5cblx0XHR0aGlzLmdhbWUucGh5c2ljcy5zdGFydFN5c3RlbShQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xuXHRcdHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzk5Ric7XG5cdH1cblxuXHRwcml2YXRlIGdldFRpbGVtYXAobGV2ZWw6IG51bWJlcikge1xuXHRcdGNvbnN0IG5hbWUgPSBgTGV2ZWwtJHtsZXZlbH1gO1xuXHRcdGxldCB0aWxlbWFwID0gdGhpcy50aWxlbWFwcy5nZXQobGV2ZWwpO1xuXHRcdGlmICghdGlsZW1hcCkge1xuXHRcdFx0dGlsZW1hcCA9IHRoaXMuZ2FtZS5hZGQudGlsZW1hcChuYW1lKTtcblx0XHRcdHRpbGVtYXAuYWRkVGlsZXNldEltYWdlKCdvdmVyd29ybGQnKTtcblxuXHRcdFx0Ly8gQmFja2dyb3VuZFxuXHRcdFx0dGlsZW1hcC5jcmVhdGVMYXllcigwKS5zbW9vdGhlZCA9IGZhbHNlO1xuXHRcdFx0Ly8gLy8gRGVjb3JhdGlvblxuXHRcdFx0dGlsZW1hcC5jcmVhdGVMYXllcigxKS5zbW9vdGhlZCA9IGZhbHNlO1xuXHRcdFx0Ly8gLy8gT2JzdGFjbGVzXG5cdFx0XHR0aWxlbWFwLmNyZWF0ZUxheWVyKDIpLnNtb290aGVkID0gZmFsc2U7XG5cdFx0XHQvLyB0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUuZW5hYmxlKG9ic3RhY2xlcyk7XG5cdFx0XHQvLyB0aWxlbWFwLnNldENvbGxpc2lvbkJ5RXhjbHVzaW9uKFtdLCB0cnVlLCBvYnN0YWNsZXMpO1xuXG5cdFx0XHR0aGlzLnRpbGVtYXBzLnNldChsZXZlbCwgdGlsZW1hcCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRpbGVtYXA7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSAnLi9HYW1lU3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgUHJlbG9hZGVyU3RhdGUgZXh0ZW5kcyBHYW1lU3RhdGUge1xuXG5cdHByaXZhdGUgbG9hZGluZ0JhcjogUGhhc2VyLlNwcml0ZTtcblxuXHRwdWJsaWMgcHJlbG9hZCgpIHtcblx0XHR0aGlzLmxvYWRpbmdCYXIgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSgwLCAyNDAsICdwcmVsb2FkZXJfYmFyJyk7XG5cdFx0dGhpcy5sb2FkaW5nQmFyLmFuY2hvci5zZXRUbygwLCAwLjUpO1xuXHRcdHRoaXMubG9hZC5zZXRQcmVsb2FkU3ByaXRlKHRoaXMubG9hZGluZ0Jhcik7XG5cblx0XHQvLyBUT0RPOiBsb2FkIGhlcmUgdGhlIGFzc2V0cyBmb3IgdGhlIGdhbWVcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZSgnbG9nbycsICdpbWFnZXMvU3RvbmVzQ3JlZWQucG5nJyk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgnbWVudScpO1xuXHR9XG59XG4iLCJleHBvcnQgY29uc3QgV0lOX1dJRFRIID0gODAwO1xuZXhwb3J0IGNvbnN0IFdJTl9IRUlHSFQgPSA2MDA7XG4iXSwic291cmNlUm9vdCI6IiJ9