!function(e){var t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(i,a,function(t){return e[t]}.bind(null,a));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=5)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7);class a extends Phaser.State{preload(){super.preload(),a.gameManager||(a.gameManager=new i.GameManager(this.game))}create(){super.create();for(const e of a.gameManager.pendingOnCreate)e();a.gameManager.pendingOnCreate.length=0}update(){super.update(),a.gameManager.update()}}a.gameManager=null,t.GameState=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.up=0]="up",e[e.down=1]="down",e[e.right=2]="right",e[e.left=3]="left"}(t.Direction||(t.Direction={})),function(e){e[e.stop=0]="stop",e[e.move=1]="move"}(t.BoulderState||(t.BoulderState={})),function(e){e[e.none=0]="none",e[e.bushes=1]="bushes",e[e.cave=2]="cave",e[e.haystack=3]="haystack"}(t.HidingType||(t.HidingType={})),t.CharacterState={dead:0,run:1,stand:2,walk:3},t.PlayerState=Object.assign({},t.CharacterState,{hidden:4}),t.EnemyState=Object.assign({},t.CharacterState,{onRoute:4,pursuit:5})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(9);class a extends Phaser.Sprite{constructor(e,t,s,i,a){super(e.game,t,s,i,a),this.gameManager=e,this.game.add.existing(this),this.game.physics.arcade.enable(this),this.gameManager.gameObjects.add(this),this.gameManager.gameObjectsGroup.add(this),this.body.collideWorldBounds=!0,this.body.allowRotation=!1,this.body.allowGravity=!1,this.body.immovable=!0,this.smoothed=!1}destroy(e){super.destroy(e),this.gameManager.gameObjects.delete(this)}collides(e){if(!(e instanceof a))throw new TypeError('"gameObject" must be an instance of GameObject.');return!0}setPosition(e,t){return this.position.x=e,this.position.y=t,this}setVelocity(e,t){return this.body.velocity.x=e,this.body.velocity.y=t,this}interact(e){return e.interaction(this),this}interaction(e){if(!(e instanceof a))throw new TypeError("Expected gameObject to be a GameObject instance")}fromJSON(e){return this.name=e.name,this.setVelocity(e.velocity.x,e.velocity.y),this}toJSON(){return{frame:this.frame,key:this.key,name:this.name,position:{x:this.position.x,y:this.position.y},type:"GameObject",velocity:{x:this.body.velocity.x,y:this.body.velocity.y}}}}a.factory=new i.GameObjectFactory,t.GameObject=a;const r=s(3),o=s(11),n=s(13),c=s(14),h=s(15),d=s(16),l=s(4);a.factory.set("GameObject",a),a.factory.set("Character",r.Character),a.factory.set("Player",c.Player),a.factory.set("Enemy",o.Enemy),a.factory.set("NPC",n.NPC),a.factory.set("HidingSpot",h.HidingSpot),a.factory.set("Boulder",d.Boulder),a.factory.set("Trap",l.Trap)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),a=s(2);t.Character=class extends a.GameObject{constructor(e,t,s,a,r){super(e,t,s,a,r),this.walkSpeed=0,this.runSpeed=0,this.state=i.CharacterState.stand,this.direction=i.Direction.down,this.strength=0,this.attackCooldown=1e3,this.attackRefresh=0,this.body.setSize(this.width,.7*this.height,0,.3*this.height),this.animations.add("stand.down",[0]),this.animations.add("move.down",[1,2,3,4,5]),this.animations.add("kill.down",[6,7]),this.animations.add("dead.down",[8,9,10]),this.animations.add("stand.right",[11]),this.animations.add("move.right",[12,13,14,15,16]),this.animations.add("kill.right",[17,18]),this.animations.add("dead.right",[19,20,21]),this.animations.add("stand.up",[22]),this.animations.add("move.up",[23,24,25,26,27]),this.animations.add("kill.up",[28,29]),this.animations.add("dead.up",[30,31,32]),this.animations.add("stand.left",[33]),this.animations.add("move.left",[34,35,36,37,38]),this.animations.add("kill.left",[39,40]),this.animations.add("dead.left",[41,42,43])}setStrength(e){return this.strength=e,this}setState(e){return this.state=e,this}attack(e){Date.now()<this.attackRefresh||(this.attackRefresh=Date.now()+this.attackCooldown,e.damage(this.strength),this.animations.play(`kill.${i.Direction[this.direction]}`,this.attackCooldown/1e3*2))}kill(){return this.setState(i.CharacterState.dead),this.animations.play(`dead.${i.Direction[this.direction]}`,1.5),this.game.time.events.add(3*Phaser.Timer.SECOND,()=>super.kill()),this}walk(){this.setState(i.CharacterState.walk),this.animations.play(`move.${i.Direction[this.direction]}`,5),this.updateVelocity(this.walkSpeed)}run(){this.setState(i.CharacterState.run),this.animations.play(`move.${i.Direction[this.direction]}`,8),this.updateVelocity(this.runSpeed)}stand(){this.setState(i.CharacterState.stand),this.animations.play(`stand.${i.Direction[this.direction]}`,0),this.animations.stop(),this.setVelocity(0,0)}changeDirection(e){this.direction=e}fromJSON(e){return super.fromJSON(e),this.direction=e.direction,this.runSpeed=e.runSpeed,this.walkSpeed=e.walkSpeed,this.setStrength(e.strength),this}toJSON(){return Object.assign({},super.toJSON(),{direction:this.direction,runSpeed:this.runSpeed,strength:this.strength,walkSpeed:this.walkSpeed})}triggerWalk(){this.updateVelocity(this.walkSpeed)}updateVelocity(e){switch(this.direction){case i.Direction.down:this.setVelocity(0,e);break;case i.Direction.up:this.setVelocity(0,-e);break;case i.Direction.left:this.setVelocity(-e,0);break;default:this.setVelocity(e,0)}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);t.Trap=class extends i.GameObject{constructor(){super(...arguments),this.active=!1,this.damageStrength=0,this.lethal=!1}setDamageStrength(e){return this.damageStrength=e,this}setLethal(e){return this.lethal=e,this}setActive(e){return this.active=e,this}onContact(e){this.lethal?e.kill():e.damage(this.damageStrength)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(6),a=s(17),r=s(18),o=s(20),n=s(21),c=s(22);window.onload=function(){const e=new Phaser.Game(c.WIN_WIDTH,c.WIN_HEIGHT,Phaser.AUTO,"game");e.state.add("boot",i.BootState),e.state.add("preloader",n.PreloaderState),e.state.add("play",o.PlayState),e.state.add("menu",a.MenuState),e.state.add("newGame",r.NewGameState),e.state.start("boot")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.BootState=class extends i.GameState{preload(){super.preload(),this.game.load.image("preloader_bar","images/preloader_bar.png"),this.game.load.spritesheet("player","images/player.png",16,32),this.game.load.spritesheet("enemy","images/enemy.png",16,32)}create(){super.create(),this.game.state.start("preloader")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(8);var a;t.GameManager=class{constructor(e){this.game=e,this.mapManager=null,this.storageManager=new i.StorageManager(this),this.gameObjects=new Set,this.gameObjectsGroup=null,this.player=null,this.playerName=null,this.level=a.First,this.pendingOnCreate=[],this.gameObjectsGroup=e.add.group(e.world,"gameObjectsGroup",!0,!1,Phaser.Physics.ARCADE)}clear(){for(const e of this.gameObjects)e.destroy(!0);return this.gameObjects.clear(),this}update(){for(const e of this.gameObjects)e.update();this.game.physics.arcade.collide(this.gameObjectsGroup,void 0,(e,t)=>e.collides(t)&&t.collides(e))}},function(e){e[e.First=0]="First"}(a=t.GameLevels||(t.GameLevels={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);t.StorageManager=class{constructor(e){this.gameManager=e}save(){localStorage.clear(),localStorage.setItem("gameObjects",JSON.stringify(this.gameManager.gameObjects)),localStorage.setItem("level",this.gameManager.level.toString()),localStorage.setItem("playerName",this.gameManager.playerName)}load(){this.gameManager.clear();const e=localStorage.getItem("level");if(null===e)throw new Error("Could not find a saved file.");const t=Number(e);this.gameManager.level=t;const s=JSON.parse(localStorage.getItem("gameObjects"));s&&this.loadGameObjects(s);const i=localStorage.getItem("playerName");i&&this.loadPlayerName(i)}loadGameObjects(e){for(const t of e){const e=i.GameObject.factory.get(t.type);if(!e)throw new Error(`Could not find a constructor for ${t.type||"unknown"}. Aborting.`);const s=new e(this.gameManager,t.position.x,t.position.y,t.key,t.frame).fromJSON(t);"Player"===t.type&&(this.gameManager.player=s)}}loadPlayerName(e){this.gameManager.playerName=e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(10);t.GameObjectFactory=class extends i.Factory{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Factory=class extends Map{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(12),a=s(1),r=s(3);t.Enemy=class extends r.Character{constructor(e,t,s){super(e,t,s,"enemy"),this.route=new i.Route,this.pov=.85*Math.PI,this.isTarget=!1}setTarget(e){return this.isTarget=e,this}setPov(e){return this.pov=e,this}chase(){this.setState(a.EnemyState.pursuit)}fromJSON(e){return super.fromJSON(e),this.isTarget=e.isTarget,this.pov=e.pov,this.route.set(e.route),this}toJSON(){return Object.assign({},super.toJSON(),{isTarget:this.isTarget,pov:this.pov,route:this.route.toJSON()})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Route=class{constructor(){this.route=[]}set(e){return this.route=e,this}add(e,t){return this.route.push("number"==typeof e?[e,t]:e),this}remove(e,t){const s="number"==typeof e?[e,t]:e,i=this.route.findIndex(e=>e[0]===s[0]&&e[0]===s[1]);return-1!==i&&this.route.splice(i,1),this}reset(){return this.route.length=0,this}toJSON(){return this.route.slice()}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3);t.NPC=class extends i.Character{constructor(e,t,s){super(e,t,s,"npc")}interaction(){return this}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),a=s(3);t.Player=class extends a.Character{constructor(e,t,s){super(e,t,s,"player"),this.hidingSpot=null,this.money=0,this.directions={down:!1,left:!1,right:!1,up:!1},this.cursorKeys=this.game.input.keyboard.createCursorKeys(),this.actions={interact:!1,kill:!1},this.movementRefresh=0,this.game.camera.follow(this),this.body.immovable=!1}update(){if(Date.now()<this.movementRefresh)return;this.directions.down=this.cursorKeys.down.isDown,this.directions.left=this.cursorKeys.left.isDown,this.directions.right=this.cursorKeys.right.isDown,this.directions.up=this.cursorKeys.up.isDown;const e=this.gameManager.game.input.keyboard,t=e.isDown(Phaser.Keyboard.SHIFT);this.directions.down!==this.directions.up?(this.direction=this.directions.down?i.Direction.down:i.Direction.up,t?this.run():this.walk()):this.directions.left!==this.directions.right?(this.direction=this.directions.left?i.Direction.left:i.Direction.right,t?this.run():this.walk()):this.stand(),e.isDown(Phaser.Keyboard.X)?(this.actions.interact=!1,this.actions.kill=!0,this.triggerWalk()):e.isDown(Phaser.Keyboard.Z)?(this.actions.interact=!0,this.actions.kill=!1,this.triggerWalk()):(this.actions.interact=!1,this.actions.kill=!1)}attack(e){super.attack(e),this.movementRefresh=this.attackRefresh}collides(e){if(e instanceof a.Character)return this.actions.kill?this.attack(e):this.actions.interact&&e.interact(this),!0}hide(e){return e.hidingType!==i.HidingType.none&&(this.setState(i.PlayerState.hidden),this.hidingSpot=e),this}reveal(){return this.hidingSpot&&(this.setState(this.health?i.PlayerState.stand:i.PlayerState.dead),this.hidingSpot=null),this}fromJSON(e){return super.fromJSON(e),this.money=e.money,this}toJSON(){return Object.assign({},super.toJSON(),{hidingSpot:this.hidingSpot.toJSON(),money:this.money})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),a=s(2);t.HidingSpot=class extends a.GameObject{constructor(e,t,s){super(e,t,s,"hidingSpot"),this.hidingType=i.HidingType.none}setHidingType(e){return this.hidingType=e,this}toJSON(){return Object.assign({},super.toJSON(),{hidingType:this.hidingType})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),a=s(4);t.Boulder=class extends a.Trap{constructor(e,t,s){super(e,t,s,"boulder"),this.state=i.BoulderState.stop,this.direction=i.Direction.down,this.speed=0}move(){switch(this.state=i.BoulderState.move,this.direction){case i.Direction.down:this.body.velocity.x=0,this.body.velocity.y=this.speed;break;case i.Direction.up:this.body.velocity.x=0,this.body.velocity.y=-this.speed;break;case i.Direction.left:this.body.velocity.x=-this.speed,this.body.velocity.y=0;break;default:this.body.velocity.x=this.speed,this.body.velocity.y=0}}stop(){this.state=i.BoulderState.stop,this.body.velocity.x=0,this.body.velocity.y=0}setDirection(e){return this.direction=e,this}setSpeed(e){return this.speed=e,this}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.MenuState=class extends i.GameState{constructor(){super(...arguments),this.texts=[],this.logo=null}create(){super.create(),this.game.stage.backgroundColor="#2A1B19",this.logo=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY-120,"logo"),this.logo.anchor.setTo(.5,.5),this.logo.scale.setTo(.5,.5),this.createButton("New Game",()=>{this.game.state.start("newGame")}),localStorage.getItem("level")&&this.createButton("Continue",()=>{i.GameState.gameManager.storageManager.load()})}shutdown(){for(const e of this.texts)e.destroy(!0);this.texts.length=0,this.logo.destroy(!0),super.shutdown()}createButton(e,t){const s=this.game.add.text(this.game.world.centerX,this.game.world.centerY,e,{font:"65px Arial",fill:"#CDCDCD",align:"center"});s.anchor.set(.5),s.inputEnabled=!0,s.events.onInputUp.add(t,this),s.events.onInputDown.add(()=>{s.fill="#FF0044",s.events.onInputOver.removeAll(),s.events.onInputOut.removeAll()}),s.events.onInputOver.add(()=>{s.fill="#FFFFFF"}),s.events.onInputOut.add(()=>{s.fill="#EFEFEF"}),this.texts.push(s),s.alignTo(this.texts.length?this.texts[this.texts.length-1]:this.logo,Phaser.BOTTOM_CENTER,16)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(19),a=s(0);t.NewGameState=class extends a.GameState{preload(){this.game.load.json("Level-0-GameObjects","json/Level-0-GameObjects.json")}create(){const e=this.game.add.text(this.game.world.centerX,this.game.world.centerY-65,"Insert your name",{font:"65px Arial",fill:"#CDCDCD",align:"center"});e.anchor.setTo(.5,.5);const t=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"",{font:"65px Arial",fill:"#CDCDCD",align:"center"});t.anchor.setTo(.5,.5),t.alignTo(e,Phaser.BOTTOM_CENTER,0,25),i.readLine(t,s=>{e.destroy(!0),t.destroy(!0),this.game.state.start("play");const i=a.GameState.gameManager;i.playerName=s,i.pendingOnCreate.push(()=>{console.log("Loading New Game..."),i.storageManager.loadGameObjects(this.game.cache.getJSON("Level-0-GameObjects")),console.log("Loaded!")})},{maximumLength:20})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=function(e,t){const s=e.slice(),i=[];for(;s.length;)i.push(s.splice(0,t));return i},t.readLine=function(e,t,s){const i=[],a="maximumLength"in s?s.maximumLength:100,r=s=>{if("Enter"===s.key)return document.removeEventListener("keydown",r),void t(i.join(""));if("Backspace"===s.key)i.length&&i.pop();else{if(!(i.length<=a&&/^[\(\)\[\]\w\d\-!?¡¿ ]$/.test(s.key)))return;i.push(s.key)}e.text=i.join("")};document.addEventListener("keydown",r)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.PlayState=class extends i.GameState{constructor(){super(...arguments),this.tilemaps=new Map,this.obstacleLayer=null}preload(){super.preload(),this.game.load.tilemap("Level-0","json/Level-0.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.image("overworld","images/overworld.png"),this.game.load.image("cave","images/cave.png"),this.game.load.image("objects","images/objects.png")}create(){this.getTilemap(0),this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.UP,Phaser.Keyboard.DOWN,Phaser.Keyboard.SPACEBAR]),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.stage.backgroundColor="#99F",super.create()}update(){super.update(),this.game.physics.arcade.collide(i.GameState.gameManager.gameObjectsGroup,this.obstacleLayer)}getTilemap(e){const t=`Level-${e}`;let s=this.tilemaps.get(e);if(!s){(s=this.game.add.tilemap(t)).addTilesetImage("overworld");const i=s.createLayer(0);i.smoothed=!1,i.resizeWorld(),s.createLayer(1).smoothed=!1,this.obstacleLayer=s.createLayer(2),this.obstacleLayer.smoothed=!1,this.game.physics.arcade.enable(this.obstacleLayer),s.setCollisionByExclusion([],!0,this.obstacleLayer),this.tilemaps.set(e,s)}return s}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.PreloaderState=class extends i.GameState{preload(){this.loadingBar=this.game.add.sprite(0,240,"preloader_bar"),this.loadingBar.anchor.setTo(0,.5),this.load.setPreloadSprite(this.loadingBar),this.game.load.image("logo","images/StonesCreed.png")}create(){this.game.state.start("menu")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WIN_WIDTH=800,t.WIN_HEIGHT=600}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvR2FtZVN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9taXNjL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9HYW1lT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9jaGFyYWN0ZXJzL0NoYXJhY3Rlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvZ2FtZU9iamVjdHMvdHJhcHMvVHJhcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvQm9vdFN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9tYW5hZ2Vycy9HYW1lTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvbWFuYWdlcnMvU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2dhbWVPYmplY3RzL0dhbWVPYmplY3RGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9jb21tb24vRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvZ2FtZU9iamVjdHMvY2hhcmFjdGVycy9FbmVteS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvbWlzYy9Sb3V0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvZ2FtZU9iamVjdHMvY2hhcmFjdGVycy9OUEMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2dhbWVPYmplY3RzL2NoYXJhY3RlcnMvUGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9oaWRpbmdTcG90cy9IaWRpbmdTcG90LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy90cmFwcy9Cb3VsZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RhdGVzL01lbnVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0YXRlcy9OZXdHYW1lU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi91dGlsL3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvUGxheVN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RhdGVzL1ByZWxvYWRlclN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvdXRpbC9jb25zdGFudHMudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHYW1lTWFuYWdlcl8xIiwiR2FtZVN0YXRlIiwiUGhhc2VyIiwiU3RhdGUiLCJbb2JqZWN0IE9iamVjdF0iLCJzdXBlciIsInByZWxvYWQiLCJnYW1lTWFuYWdlciIsIkdhbWVNYW5hZ2VyIiwidGhpcyIsImdhbWUiLCJ0YXNrIiwicGVuZGluZ09uQ3JlYXRlIiwibGVuZ3RoIiwidXBkYXRlIiwiRGlyZWN0aW9uIiwiQm91bGRlclN0YXRlIiwiSGlkaW5nVHlwZSIsIkNoYXJhY3RlclN0YXRlIiwiZGVhZCIsInJ1biIsInN0YW5kIiwid2FsayIsIlBsYXllclN0YXRlIiwiYXNzaWduIiwiaGlkZGVuIiwiRW5lbXlTdGF0ZSIsIm9uUm91dGUiLCJwdXJzdWl0IiwiR2FtZU9iamVjdEZhY3RvcnlfMSIsIkdhbWVPYmplY3QiLCJTcHJpdGUiLCJ4IiwieSIsImZyYW1lIiwiYWRkIiwiZXhpc3RpbmciLCJwaHlzaWNzIiwiYXJjYWRlIiwiZW5hYmxlIiwiZ2FtZU9iamVjdHMiLCJnYW1lT2JqZWN0c0dyb3VwIiwiYm9keSIsImNvbGxpZGVXb3JsZEJvdW5kcyIsImFsbG93Um90YXRpb24iLCJhbGxvd0dyYXZpdHkiLCJpbW1vdmFibGUiLCJzbW9vdGhlZCIsImRlc3Ryb3lDaGlsZHJlbiIsImRlc3Ryb3kiLCJkZWxldGUiLCJnYW1lT2JqZWN0IiwiVHlwZUVycm9yIiwicG9zaXRpb24iLCJ2ZWxvY2l0eSIsImludGVyYWN0aW9uIiwiZGF0YSIsInNldFZlbG9jaXR5IiwidHlwZSIsImZhY3RvcnkiLCJHYW1lT2JqZWN0RmFjdG9yeSIsIkNoYXJhY3Rlcl8xIiwiRW5lbXlfMSIsIk5QQ18xIiwiUGxheWVyXzEiLCJIaWRpbmdTcG90XzEiLCJCb3VsZGVyXzEiLCJUcmFwXzEiLCJzZXQiLCJDaGFyYWN0ZXIiLCJQbGF5ZXIiLCJFbmVteSIsIk5QQyIsIkhpZGluZ1Nwb3QiLCJCb3VsZGVyIiwiVHJhcCIsInR5cGVzXzEiLCJHYW1lT2JqZWN0XzEiLCJ3YWxrU3BlZWQiLCJydW5TcGVlZCIsInN0YXRlIiwiZGlyZWN0aW9uIiwiZG93biIsInN0cmVuZ3RoIiwiYXR0YWNrQ29vbGRvd24iLCJhdHRhY2tSZWZyZXNoIiwic2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiYW5pbWF0aW9ucyIsImNoYXJhY3RlciIsIkRhdGUiLCJub3ciLCJkYW1hZ2UiLCJwbGF5Iiwic2V0U3RhdGUiLCJ0aW1lIiwiZXZlbnRzIiwiVGltZXIiLCJTRUNPTkQiLCJraWxsIiwidXBkYXRlVmVsb2NpdHkiLCJzdG9wIiwiZnJvbUpTT04iLCJzZXRTdHJlbmd0aCIsInRvSlNPTiIsInNwZWVkIiwidXAiLCJsZWZ0IiwiYWN0aXZlIiwiZGFtYWdlU3RyZW5ndGgiLCJsZXRoYWwiLCJCb290U3RhdGVfMSIsIk1lbnVTdGF0ZV8xIiwiTmV3R2FtZVN0YXRlXzEiLCJQbGF5U3RhdGVfMSIsIlByZWxvYWRlclN0YXRlXzEiLCJjb25zdGFudHNfMSIsIndpbmRvdyIsIm9ubG9hZCIsIkdhbWUiLCJXSU5fV0lEVEgiLCJXSU5fSEVJR0hUIiwiQVVUTyIsIkJvb3RTdGF0ZSIsIlByZWxvYWRlclN0YXRlIiwiUGxheVN0YXRlIiwiTWVudVN0YXRlIiwiTmV3R2FtZVN0YXRlIiwic3RhcnQiLCJHYW1lU3RhdGVfMSIsImxvYWQiLCJpbWFnZSIsInNwcml0ZXNoZWV0IiwiU3RvcmFnZU1hbmFnZXJfMSIsIkdhbWVMZXZlbHMiLCJtYXBNYW5hZ2VyIiwic3RvcmFnZU1hbmFnZXIiLCJTdG9yYWdlTWFuYWdlciIsIlNldCIsInBsYXllciIsInBsYXllck5hbWUiLCJsZXZlbCIsIkZpcnN0IiwiZ3JvdXAiLCJ3b3JsZCIsIlBoeXNpY3MiLCJBUkNBREUiLCJjbGVhciIsImNvbGxpZGUiLCJ1bmRlZmluZWQiLCJnMSIsImcyIiwiY29sbGlkZXMiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvU3RyaW5nIiwicmF3TGV2ZWwiLCJnZXRJdGVtIiwiRXJyb3IiLCJOdW1iZXIiLCJwYXJzZSIsImxvYWRHYW1lT2JqZWN0cyIsImxvYWRQbGF5ZXJOYW1lIiwiQ3RvciIsImluc3RhbmNlIiwiRmFjdG9yeV8xIiwiRmFjdG9yeSIsIk1hcCIsIlJvdXRlXzEiLCJyb3V0ZSIsIlJvdXRlIiwicG92IiwiTWF0aCIsIlBJIiwiaXNUYXJnZXQiLCJwdXNoIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJzbGljZSIsImhpZGluZ1Nwb3QiLCJtb25leSIsImRpcmVjdGlvbnMiLCJyaWdodCIsImN1cnNvcktleXMiLCJpbnB1dCIsImtleWJvYXJkIiwiY3JlYXRlQ3Vyc29yS2V5cyIsImFjdGlvbnMiLCJpbnRlcmFjdCIsIm1vdmVtZW50UmVmcmVzaCIsImNhbWVyYSIsImZvbGxvdyIsImlzRG93biIsInJ1bm5pbmciLCJLZXlib2FyZCIsIlNISUZUIiwiWCIsInRyaWdnZXJXYWxrIiwiWiIsImF0dGFjayIsImhpZGluZ1R5cGUiLCJub25lIiwiaGVhbHRoIiwibW92ZSIsInRleHRzIiwibG9nbyIsInN0YWdlIiwiYmFja2dyb3VuZENvbG9yIiwic3ByaXRlIiwiY2VudGVyWCIsImNlbnRlclkiLCJhbmNob3IiLCJzZXRUbyIsInNjYWxlIiwiY3JlYXRlQnV0dG9uIiwidGV4dCIsInNodXRkb3duIiwiY2IiLCJmb250IiwiZmlsbCIsImFsaWduIiwiaW5wdXRFbmFibGVkIiwib25JbnB1dFVwIiwib25JbnB1dERvd24iLCJvbklucHV0T3ZlciIsInJlbW92ZUFsbCIsIm9uSW5wdXRPdXQiLCJhbGlnblRvIiwiQk9UVE9NX0NFTlRFUiIsInV0aWxfMSIsImpzb24iLCJ0aXRsZVRleHQiLCJpbnB1dFRleHQiLCJyZWFkTGluZSIsImNvbnNvbGUiLCJsb2ciLCJjYWNoZSIsImdldEpTT04iLCJtYXhpbXVtTGVuZ3RoIiwiY2h1bmsiLCJlbnRyaWVzIiwiY2h1bmtTaXplIiwiY2xvbmUiLCJjaHVua3MiLCJvcHRpb25zIiwiY29udGVudCIsIm1heGltdW0iLCJsaXN0ZW5lciIsImV2ZW50IiwiZG9jdW1lbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiam9pbiIsInBvcCIsInRlc3QiLCJhZGRFdmVudExpc3RlbmVyIiwidGlsZW1hcHMiLCJvYnN0YWNsZUxheWVyIiwidGlsZW1hcCIsIlRpbGVtYXAiLCJUSUxFRF9KU09OIiwiZ2V0VGlsZW1hcCIsImFkZEtleUNhcHR1cmUiLCJMRUZUIiwiUklHSFQiLCJVUCIsIkRPV04iLCJTUEFDRUJBUiIsInN0YXJ0U3lzdGVtIiwiYWRkVGlsZXNldEltYWdlIiwiYmFja2dyb3VuZCIsImNyZWF0ZUxheWVyIiwicmVzaXplV29ybGQiLCJzZXRDb2xsaXNpb25CeUV4Y2x1c2lvbiIsImxvYWRpbmdCYXIiLCJzZXRQcmVsb2FkU3ByaXRlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFy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QUtDLEtBQUt5SCxLQUFLQyxNQUFNLE9BQVEsMEJBR3ZCaEksU0FDTkssS0FBS0MsS0FBS3NFLE1BQU1pRCxNQUFNLHlGQ2hCWG5LLEVBQUEySixVQUFZLElBQ1ozSixFQUFBNEosV0FBYSIsImZpbGUiOiJidW5kbGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuLi9zdHJ1Y3R1cmVzL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cblx0cHVibGljIHByZWxvYWQoKSB7XG5cdFx0c3VwZXIucHJlbG9hZCgpO1xuXHRcdGlmICghR2FtZVN0YXRlLmdhbWVNYW5hZ2VyKSBHYW1lU3RhdGUuZ2FtZU1hbmFnZXIgPSBuZXcgR2FtZU1hbmFnZXIodGhpcy5nYW1lKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0c3VwZXIuY3JlYXRlKCk7XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIEdhbWVTdGF0ZS5nYW1lTWFuYWdlci5wZW5kaW5nT25DcmVhdGUpIHRhc2soKTtcblx0XHRHYW1lU3RhdGUuZ2FtZU1hbmFnZXIucGVuZGluZ09uQ3JlYXRlLmxlbmd0aCA9IDA7XG5cdH1cblxuXHRwdWJsaWMgdXBkYXRlKCkge1xuXHRcdHN1cGVyLnVwZGF0ZSgpO1xuXHRcdEdhbWVTdGF0ZS5nYW1lTWFuYWdlci51cGRhdGUoKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2FtZU1hbmFnZXI6IEdhbWVNYW5hZ2VyID0gbnVsbDtcbn1cbiIsIi8qKlxuICogVGhlIGRpcmVjdGlvbnNcbiAqL1xuZXhwb3J0IGVudW0gRGlyZWN0aW9uIHtcblx0dXAsXG5cdGRvd24sXG5cdHJpZ2h0LFxuXHRsZWZ0XG59XG5cbi8qKlxuICogVGhlIGJvdWxkZXIgc3RhdGVzXG4gKi9cbmV4cG9ydCBlbnVtIEJvdWxkZXJTdGF0ZSB7XG5cdHN0b3AsXG5cdG1vdmVcbn1cblxuLyoqXG4gKiBUaGUgaGlkaW5nIHR5cGVzXG4gKi9cbmV4cG9ydCBlbnVtIEhpZGluZ1R5cGUge1xuXHRub25lLFxuXHRidXNoZXMsXG5cdGNhdmUsXG5cdGhheXN0YWNrXG59XG5cbmV4cG9ydCBjb25zdCBDaGFyYWN0ZXJTdGF0ZTogSUNoYXJhY3RlclN0YXRlID0ge1xuXHRkZWFkOiAwLFxuXHRydW46IDEsXG5cdHN0YW5kOiAyLFxuXHR3YWxrOiAzXG59O1xuXG5leHBvcnQgY29uc3QgUGxheWVyU3RhdGU6IElQbGF5ZXJTdGF0ZSA9IHtcblx0Li4uQ2hhcmFjdGVyU3RhdGUsXG5cdGhpZGRlbjogNFxufTtcblxuZXhwb3J0IGNvbnN0IEVuZW15U3RhdGU6IElFbmVteVN0YXRlID0ge1xuXHQuLi5DaGFyYWN0ZXJTdGF0ZSxcblx0b25Sb3V0ZTogNCxcblx0cHVyc3VpdDogNVxufTtcblxuLyoqXG4gKiBUaGUgY2hhcmFjdGVyIHN0YXRlc1xuICovXG5pbnRlcmZhY2UgSUNoYXJhY3RlclN0YXRlIHtcblx0ZGVhZDogMDtcblx0cnVuOiAxO1xuXHRzdGFuZDogMjtcblx0d2FsazogMztcbn1cblxuLyoqXG4gKiBUaGUgcGxheWVyIHN0YXRlc1xuICovXG5pbnRlcmZhY2UgSVBsYXllclN0YXRlIGV4dGVuZHMgSUNoYXJhY3RlclN0YXRlIHtcblx0aGlkZGVuOiA0O1xufVxuXG4vKipcbiAqIFRoZSBlbmVteSBzdGF0ZXNcbiAqL1xuaW50ZXJmYWNlIElFbmVteVN0YXRlIGV4dGVuZHMgSUNoYXJhY3RlclN0YXRlIHtcblx0b25Sb3V0ZTogNDtcblx0cHVyc3VpdDogNTtcbn1cbiIsImltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuaW1wb3J0IHsgR2FtZU9iamVjdEZhY3RvcnkgfSBmcm9tICcuL0dhbWVPYmplY3RGYWN0b3J5JztcblxuZXhwb3J0IGNsYXNzIEdhbWVPYmplY3QgZXh0ZW5kcyBQaGFzZXIuU3ByaXRlIHtcblxuXHRwdWJsaWMgYm9keTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCBrZXk/OiBzdHJpbmcsIGZyYW1lPzogc3RyaW5nKSB7XG5cdFx0c3VwZXIoZ2FtZU1hbmFnZXIuZ2FtZSwgeCwgeSwga2V5LCBmcmFtZSk7XG5cdFx0Ly8gQWRkIHRoZSBnYW1lb2JqZWN0IGl0c2VsZiB0byB0aGUgZ2FtZVxuXHRcdHRoaXMuZ2FtZS5hZGQuZXhpc3RpbmcodGhpcyk7XG5cdFx0dGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmVuYWJsZSh0aGlzKTtcblx0XHR0aGlzLmdhbWVNYW5hZ2VyLmdhbWVPYmplY3RzLmFkZCh0aGlzKTtcblx0XHR0aGlzLmdhbWVNYW5hZ2VyLmdhbWVPYmplY3RzR3JvdXAuYWRkKHRoaXMpO1xuXHRcdHRoaXMuYm9keS5jb2xsaWRlV29ybGRCb3VuZHMgPSB0cnVlO1xuXHRcdHRoaXMuYm9keS5hbGxvd1JvdGF0aW9uID0gZmFsc2U7XG5cdFx0dGhpcy5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xuXHRcdHRoaXMuYm9keS5pbW1vdmFibGUgPSB0cnVlO1xuXHRcdHRoaXMuc21vb3RoZWQgPSBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBkZXN0cm95KGRlc3Ryb3lDaGlsZHJlbj86IGJvb2xlYW4pIHtcblx0XHRzdXBlci5kZXN0cm95KGRlc3Ryb3lDaGlsZHJlbik7XG5cdFx0dGhpcy5nYW1lTWFuYWdlci5nYW1lT2JqZWN0cy5kZWxldGUodGhpcyk7XG5cdH1cblxuXHRwdWJsaWMgY29sbGlkZXMoZ2FtZU9iamVjdDogR2FtZU9iamVjdCkge1xuXHRcdGlmICghKGdhbWVPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcihgXCJnYW1lT2JqZWN0XCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBHYW1lT2JqZWN0LmApO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgcG9zaXRpb24gZm9yIHRoaXMgZ2FtZSBvYmplY3Rcblx0ICogQHBhcmFtIHggVGhlIG5ldyB4IHBvc2l0aW9uXG5cdCAqIEBwYXJhbSB5IFRoZSBuZXcgeSBwb3NpdGlvblxuXHQgKi9cblx0cHVibGljIHNldFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0dGhpcy5wb3NpdGlvbi54ID0geDtcblx0XHR0aGlzLnBvc2l0aW9uLnkgPSB5O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgdmVsb2NpdHkgZm9yIHRoaXMgZ2FtZSBvYmplY3Rcblx0ICogQHBhcmFtIHggVGhlIG5ldyB4IHZlbG9jaXR5XG5cdCAqIEBwYXJhbSB5IFRoZSBuZXcgeSB2ZWxvY2l0eVxuXHQgKi9cblx0cHVibGljIHNldFZlbG9jaXR5KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0dGhpcy5ib2R5LnZlbG9jaXR5LnggPSB4O1xuXHRcdHRoaXMuYm9keS52ZWxvY2l0eS55ID0geTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBJbnRlcmFjdHMgd2l0aCBhIGdhbWUgb2JqZWN0IGZyb20gdGhlIGdhbWVcblx0ICogQHBhcmFtIGdhbWVPYmplY3QgVGhlIGdhbWUgb2JqZWN0IHRvIGludGVyYWN0IHdpdGhcblx0ICovXG5cdHB1YmxpYyBpbnRlcmFjdChnYW1lT2JqZWN0OiBHYW1lT2JqZWN0KSB7XG5cdFx0Z2FtZU9iamVjdC5pbnRlcmFjdGlvbih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBIYW5kbGUgdGhlIGludGVyYWN0aW9ucyB0byB0aGlzIGdhbWUgb2JqZWN0XG5cdCAqIEBwYXJhbSBnYW1lT2JqZWN0IFRoZSBnYW1lIG9iamVjdCB0aGF0IGludGVyYWN0ZWQgd2l0aCB0aGlzIGluc3RhbmNlXG5cdCAqL1xuXHRwdWJsaWMgaW50ZXJhY3Rpb24oZ2FtZU9iamVjdDogR2FtZU9iamVjdCkge1xuXHRcdGlmICghKGdhbWVPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0KSlcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBnYW1lT2JqZWN0IHRvIGJlIGEgR2FtZU9iamVjdCBpbnN0YW5jZWApO1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElHYW1lT2JqZWN0U2VyaWFsaXplZCkge1xuXHRcdHRoaXMubmFtZSA9IGRhdGEubmFtZTtcblx0XHR0aGlzLnNldFZlbG9jaXR5KGRhdGEudmVsb2NpdHkueCwgZGF0YS52ZWxvY2l0eS55KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogSUdhbWVPYmplY3RTZXJpYWxpemVkIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZnJhbWU6IHRoaXMuZnJhbWUgYXMgc3RyaW5nLFxuXHRcdFx0a2V5OiB0aGlzLmtleSBhcyBzdHJpbmcsXG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRwb3NpdGlvbjoge1xuXHRcdFx0XHR4OiB0aGlzLnBvc2l0aW9uLngsXG5cdFx0XHRcdHk6IHRoaXMucG9zaXRpb24ueVxuXHRcdFx0fSxcblx0XHRcdHR5cGU6ICdHYW1lT2JqZWN0Jyxcblx0XHRcdHZlbG9jaXR5OiB7XG5cdFx0XHRcdHg6IHRoaXMuYm9keS52ZWxvY2l0eS54LFxuXHRcdFx0XHR5OiB0aGlzLmJvZHkudmVsb2NpdHkueVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGZhY3RvcnkgPSBuZXcgR2FtZU9iamVjdEZhY3RvcnkoKTtcblxufVxuXG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL2NoYXJhY3RlcnMvQ2hhcmFjdGVyJztcbmltcG9ydCB7IEVuZW15IH0gZnJvbSAnLi9jaGFyYWN0ZXJzL0VuZW15JztcbmltcG9ydCB7IE5QQyB9IGZyb20gJy4vY2hhcmFjdGVycy9OUEMnO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9jaGFyYWN0ZXJzL1BsYXllcic7XG5pbXBvcnQgeyBIaWRpbmdTcG90IH0gZnJvbSAnLi9oaWRpbmdTcG90cy9IaWRpbmdTcG90JztcbmltcG9ydCB7IEJvdWxkZXIgfSBmcm9tICcuL3RyYXBzL0JvdWxkZXInO1xuaW1wb3J0IHsgVHJhcCB9IGZyb20gJy4vdHJhcHMvVHJhcCc7XG5cbkdhbWVPYmplY3QuZmFjdG9yeS5zZXQoJ0dhbWVPYmplY3QnLCBHYW1lT2JqZWN0KTtcbkdhbWVPYmplY3QuZmFjdG9yeS5zZXQoJ0NoYXJhY3RlcicsIENoYXJhY3Rlcik7XG5HYW1lT2JqZWN0LmZhY3Rvcnkuc2V0KCdQbGF5ZXInLCBQbGF5ZXIpO1xuR2FtZU9iamVjdC5mYWN0b3J5LnNldCgnRW5lbXknLCBFbmVteSk7XG5HYW1lT2JqZWN0LmZhY3Rvcnkuc2V0KCdOUEMnLCBOUEMpO1xuR2FtZU9iamVjdC5mYWN0b3J5LnNldCgnSGlkaW5nU3BvdCcsIEhpZGluZ1Nwb3QpO1xuR2FtZU9iamVjdC5mYWN0b3J5LnNldCgnQm91bGRlcicsIEJvdWxkZXIpO1xuR2FtZU9iamVjdC5mYWN0b3J5LnNldCgnVHJhcCcsIFRyYXApO1xuXG4vKipcbiAqIFRoZSBzZXJpYWxpemVkIGdhbWUgb2JqZWN0IGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJR2FtZU9iamVjdFNlcmlhbGl6ZWQge1xuXHRmcmFtZTogc3RyaW5nO1xuXHRrZXk6IHN0cmluZztcblx0bmFtZTogc3RyaW5nO1xuXHRwb3NpdGlvbjoge1xuXHRcdHg6IG51bWJlcjtcblx0XHR5OiBudW1iZXI7XG5cdH07XG5cdHR5cGU6IHN0cmluZztcblx0dmVsb2NpdHk6IHtcblx0XHR4OiBudW1iZXI7XG5cdFx0eTogbnVtYmVyO1xuXHR9O1xufVxuIiwiaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuLi8uLi9tYW5hZ2Vycy9HYW1lTWFuYWdlcic7XG5pbXBvcnQgeyBDaGFyYWN0ZXJTdGF0ZSwgRGlyZWN0aW9uIH0gZnJvbSAnLi4vLi4vbWlzYy90eXBlcyc7XG5pbXBvcnQgeyBHYW1lT2JqZWN0LCBJR2FtZU9iamVjdFNlcmlhbGl6ZWQgfSBmcm9tICcuLi9HYW1lT2JqZWN0JztcblxuZXhwb3J0IGNsYXNzIENoYXJhY3RlciBleHRlbmRzIEdhbWVPYmplY3Qge1xuXHRwdWJsaWMgd2Fsa1NwZWVkID0gMDtcblx0cHVibGljIHJ1blNwZWVkID0gMDtcblx0cHVibGljIHN0YXRlOiBudW1iZXIgPSBDaGFyYWN0ZXJTdGF0ZS5zdGFuZDtcblx0cHVibGljIGRpcmVjdGlvbiA9IERpcmVjdGlvbi5kb3duO1xuXHRwdWJsaWMgc3RyZW5ndGggPSAwO1xuXHRwdWJsaWMgYXR0YWNrQ29vbGRvd24gPSAxMDAwO1xuXHRwcm90ZWN0ZWQgYXR0YWNrUmVmcmVzaCA9IDA7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGtleT86IHN0cmluZywgZnJhbWU/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlciwgeCwgeSwga2V5LCBmcmFtZSk7XG5cdFx0dGhpcy5ib2R5LnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjcsIDAsIHRoaXMuaGVpZ2h0ICogMC4zKTtcblxuXHRcdHRoaXMuYW5pbWF0aW9ucy5hZGQoJ3N0YW5kLmRvd24nLCBbMF0pO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5hZGQoJ21vdmUuZG93bicsIFsxLCAyLCAzLCA0LCA1XSk7XG5cdFx0dGhpcy5hbmltYXRpb25zLmFkZCgna2lsbC5kb3duJywgWzYsIDddKTtcblx0XHR0aGlzLmFuaW1hdGlvbnMuYWRkKCdkZWFkLmRvd24nLCBbOCwgOSwgMTBdKTtcblx0XHR0aGlzLmFuaW1hdGlvbnMuYWRkKCdzdGFuZC5yaWdodCcsIFsxMV0pO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5hZGQoJ21vdmUucmlnaHQnLCBbMTIsIDEzLCAxNCwgMTUsIDE2XSk7XG5cdFx0dGhpcy5hbmltYXRpb25zLmFkZCgna2lsbC5yaWdodCcsIFsxNywgMThdKTtcblx0XHR0aGlzLmFuaW1hdGlvbnMuYWRkKCdkZWFkLnJpZ2h0JywgWzE5LCAyMCwgMjFdKTtcblx0XHR0aGlzLmFuaW1hdGlvbnMuYWRkKCdzdGFuZC51cCcsIFsyMl0pO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5hZGQoJ21vdmUudXAnLCBbMjMsIDI0LCAyNSwgMjYsIDI3XSk7XG5cdFx0dGhpcy5hbmltYXRpb25zLmFkZCgna2lsbC51cCcsIFsyOCwgMjldKTtcblx0XHR0aGlzLmFuaW1hdGlvbnMuYWRkKCdkZWFkLnVwJywgWzMwLCAzMSwgMzJdKTtcblx0XHR0aGlzLmFuaW1hdGlvbnMuYWRkKCdzdGFuZC5sZWZ0JywgWzMzXSk7XG5cdFx0dGhpcy5hbmltYXRpb25zLmFkZCgnbW92ZS5sZWZ0JywgWzM0LCAzNSwgMzYsIDM3LCAzOF0pO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5hZGQoJ2tpbGwubGVmdCcsIFszOSwgNDBdKTtcblx0XHR0aGlzLmFuaW1hdGlvbnMuYWRkKCdkZWFkLmxlZnQnLCBbNDEsIDQyLCA0M10pO1xuXHR9XG5cblx0cHVibGljIHNldFN0cmVuZ3RoKHN0cmVuZ3RoOiBudW1iZXIpIHtcblx0XHR0aGlzLnN0cmVuZ3RoID0gc3RyZW5ndGg7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgc2V0U3RhdGUoc3RhdGU6IG51bWJlcikge1xuXHRcdHRoaXMuc3RhdGUgPSBzdGF0ZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBUcnkgdG8gYXR0YWNrIGEgY2hhcmFjdGVyXG5cdCAqIEBwYXJhbSBjaGFyYWN0ZXIgVGhlIGNoYXJhY3RlciB0aGlzIG9uZSBpcyBhdHRlbXB0aW5nIHRvIGF0dGFja1xuXHQgKi9cblx0cHVibGljIGF0dGFjayhjaGFyYWN0ZXI6IENoYXJhY3Rlcikge1xuXHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cdFx0aWYgKG5vdyA8IHRoaXMuYXR0YWNrUmVmcmVzaCkgcmV0dXJuO1xuXHRcdHRoaXMuYXR0YWNrUmVmcmVzaCA9IERhdGUubm93KCkgKyB0aGlzLmF0dGFja0Nvb2xkb3duO1xuXHRcdGNoYXJhY3Rlci5kYW1hZ2UodGhpcy5zdHJlbmd0aCk7XG5cdFx0dGhpcy5hbmltYXRpb25zLnBsYXkoYGtpbGwuJHtEaXJlY3Rpb25bdGhpcy5kaXJlY3Rpb25dfWAsICh0aGlzLmF0dGFja0Nvb2xkb3duIC8gMTAwMCkgKiAyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBLaWxsIG92ZXJsb2FkIHRvIHNldCB0aGUgY2hhcmFjdGVyJ3Mgc3RhdGVcblx0ICovXG5cdHB1YmxpYyBraWxsKCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoQ2hhcmFjdGVyU3RhdGUuZGVhZCk7XG5cdFx0dGhpcy5hbmltYXRpb25zLnBsYXkoYGRlYWQuJHtEaXJlY3Rpb25bdGhpcy5kaXJlY3Rpb25dfWAsIDEuNSk7XG5cdFx0dGhpcy5nYW1lLnRpbWUuZXZlbnRzLmFkZChQaGFzZXIuVGltZXIuU0VDT05EICogMywgKCkgPT4gc3VwZXIua2lsbCgpKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBzdGF0ZSBvZiB0aGlzIGNoYXJhY3RlciB0byB3YWxrXG5cdCAqL1xuXHRwdWJsaWMgd2FsaygpIHtcblx0XHR0aGlzLnNldFN0YXRlKENoYXJhY3RlclN0YXRlLndhbGspO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5wbGF5KGBtb3ZlLiR7RGlyZWN0aW9uW3RoaXMuZGlyZWN0aW9uXX1gLCA1KTtcblx0XHR0aGlzLnVwZGF0ZVZlbG9jaXR5KHRoaXMud2Fsa1NwZWVkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBzdGF0ZSBvZiB0aGlzIGNoYXJhY3RlciB0byBydW5cblx0ICovXG5cdHB1YmxpYyBydW4oKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5ydW4pO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5wbGF5KGBtb3ZlLiR7RGlyZWN0aW9uW3RoaXMuZGlyZWN0aW9uXX1gLCA4KTtcblx0XHR0aGlzLnVwZGF0ZVZlbG9jaXR5KHRoaXMucnVuU3BlZWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHN0YW5kLCBjaGFuZ2luZ1xuXHQgKi9cblx0cHVibGljIHN0YW5kKCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoQ2hhcmFjdGVyU3RhdGUuc3RhbmQpO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5wbGF5KGBzdGFuZC4ke0RpcmVjdGlvblt0aGlzLmRpcmVjdGlvbl19YCwgMCk7XG5cdFx0dGhpcy5hbmltYXRpb25zLnN0b3AoKTtcblx0XHR0aGlzLnNldFZlbG9jaXR5KDAsIDApO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoYW5nZSB0aGUgZGlyZWN0aW9uIGZvciB0aGlzIGNoYXJhY3RlclxuXHQgKiBAcGFyYW0gZGlyZWN0aW9uIFRoZSBuZXcgZGlyZWN0aW9uXG5cdCAqL1xuXHRwdWJsaWMgY2hhbmdlRGlyZWN0aW9uKGRpcmVjdGlvbjogRGlyZWN0aW9uKSB7XG5cdFx0dGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cdH1cblxuXHRwdWJsaWMgZnJvbUpTT04oZGF0YTogSUNoYXJhY3RlclNlcmlhbGl6ZWQpIHtcblx0XHRzdXBlci5mcm9tSlNPTihkYXRhKTtcblx0XHR0aGlzLmRpcmVjdGlvbiA9IGRhdGEuZGlyZWN0aW9uO1xuXHRcdHRoaXMucnVuU3BlZWQgPSBkYXRhLnJ1blNwZWVkO1xuXHRcdHRoaXMud2Fsa1NwZWVkID0gZGF0YS53YWxrU3BlZWQ7XG5cdFx0dGhpcy5zZXRTdHJlbmd0aChkYXRhLnN0cmVuZ3RoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogSUNoYXJhY3RlclNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci50b0pTT04oKSxcblx0XHRcdGRpcmVjdGlvbjogdGhpcy5kaXJlY3Rpb24sXG5cdFx0XHRydW5TcGVlZDogdGhpcy5ydW5TcGVlZCxcblx0XHRcdHN0cmVuZ3RoOiB0aGlzLnN0cmVuZ3RoLFxuXHRcdFx0d2Fsa1NwZWVkOiB0aGlzLndhbGtTcGVlZCxcblx0XHR9O1xuXHR9XG5cblx0cHJvdGVjdGVkIHRyaWdnZXJXYWxrKCkge1xuXHRcdHRoaXMudXBkYXRlVmVsb2NpdHkodGhpcy53YWxrU3BlZWQpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHVwZGF0ZVZlbG9jaXR5KHNwZWVkOiBudW1iZXIpIHtcblx0XHRzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi5kb3duOiB0aGlzLnNldFZlbG9jaXR5KDAsIHNwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi51cDogdGhpcy5zZXRWZWxvY2l0eSgwLCAtc3BlZWQpOyBicmVhaztcblx0XHRcdGNhc2UgRGlyZWN0aW9uLmxlZnQ6IHRoaXMuc2V0VmVsb2NpdHkoLXNwZWVkLCAwKTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB0aGlzLnNldFZlbG9jaXR5KHNwZWVkLCAwKTtcblx0XHR9XG5cdH1cblxufVxuXG4vKipcbiAqIFRoZSBzZXJpYWxpemVkIGNoYXJhY3RlciBkYXRhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYXJhY3RlclNlcmlhbGl6ZWQgZXh0ZW5kcyBJR2FtZU9iamVjdFNlcmlhbGl6ZWQge1xuXHRkaXJlY3Rpb246IG51bWJlcjtcblx0cnVuU3BlZWQ6IG51bWJlcjtcblx0c3RyZW5ndGg6IG51bWJlcjtcblx0d2Fsa1NwZWVkOiBudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuLi9jaGFyYWN0ZXJzL0NoYXJhY3Rlcic7XG5pbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi4vR2FtZU9iamVjdCc7XG5cbmV4cG9ydCBjbGFzcyBUcmFwIGV4dGVuZHMgR2FtZU9iamVjdCB7XG5cblx0cHJvdGVjdGVkIGFjdGl2ZSA9IGZhbHNlO1xuXHRwcm90ZWN0ZWQgZGFtYWdlU3RyZW5ndGggPSAwO1xuXHRwcm90ZWN0ZWQgbGV0aGFsID0gZmFsc2U7XG5cblx0cHVibGljIHNldERhbWFnZVN0cmVuZ3RoKGRhbWFnZVN0cmVuZ3RoOiBudW1iZXIpIHtcblx0XHR0aGlzLmRhbWFnZVN0cmVuZ3RoID0gZGFtYWdlU3RyZW5ndGg7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgc2V0TGV0aGFsKGxldGhhbDogYm9vbGVhbikge1xuXHRcdHRoaXMubGV0aGFsID0gbGV0aGFsO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHNldEFjdGl2ZShhY3RpdmU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLmFjdGl2ZSA9IGFjdGl2ZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyBvbkNvbnRhY3QoY2hhcmFjdGVyOiBDaGFyYWN0ZXIpIHtcblx0XHRpZiAodGhpcy5sZXRoYWwpIGNoYXJhY3Rlci5raWxsKCk7XG5cdFx0ZWxzZSBjaGFyYWN0ZXIuZGFtYWdlKHRoaXMuZGFtYWdlU3RyZW5ndGgpO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IEJvb3RTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL0Jvb3RTdGF0ZSc7XG5pbXBvcnQgeyBNZW51U3RhdGUgfSBmcm9tICcuL3N0YXRlcy9NZW51U3RhdGUnO1xuaW1wb3J0IHsgTmV3R2FtZVN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvTmV3R2FtZVN0YXRlJztcbmltcG9ydCB7IFBsYXlTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL1BsYXlTdGF0ZSc7XG5pbXBvcnQgeyBQcmVsb2FkZXJTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL1ByZWxvYWRlclN0YXRlJztcbmltcG9ydCB7IFdJTl9IRUlHSFQsIFdJTl9XSURUSCB9IGZyb20gJy4vdXRpbC9jb25zdGFudHMnO1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gb25sb2FkKCkge1xuXHRjb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKFdJTl9XSURUSCwgV0lOX0hFSUdIVCwgUGhhc2VyLkFVVE8sICdnYW1lJyk7XG5cblx0Z2FtZS5zdGF0ZS5hZGQoJ2Jvb3QnLCBCb290U3RhdGUpO1xuXHRnYW1lLnN0YXRlLmFkZCgncHJlbG9hZGVyJywgUHJlbG9hZGVyU3RhdGUpO1xuXHRnYW1lLnN0YXRlLmFkZCgncGxheScsIFBsYXlTdGF0ZSk7XG5cdGdhbWUuc3RhdGUuYWRkKCdtZW51JywgTWVudVN0YXRlKTtcblx0Z2FtZS5zdGF0ZS5hZGQoJ25ld0dhbWUnLCBOZXdHYW1lU3RhdGUpO1xuXG5cdGdhbWUuc3RhdGUuc3RhcnQoJ2Jvb3QnKTtcbn07XG4iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuL0dhbWVTdGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBCb290U3RhdGUgZXh0ZW5kcyBHYW1lU3RhdGUge1xuXHRwdWJsaWMgcHJlbG9hZCgpIHtcblx0XHRzdXBlci5wcmVsb2FkKCk7XG5cdFx0Ly8gbG9hZCBoZXJlIGFzc2V0cyByZXF1aXJlZCBmb3IgdGhlIGxvYWRpbmcgc2NyZWVuXG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ3ByZWxvYWRlcl9iYXInLCAnaW1hZ2VzL3ByZWxvYWRlcl9iYXIucG5nJyk7XG5cdFx0dGhpcy5nYW1lLmxvYWQuc3ByaXRlc2hlZXQoJ3BsYXllcicsICdpbWFnZXMvcGxheWVyLnBuZycsIDE2LCAzMik7XG5cdFx0dGhpcy5nYW1lLmxvYWQuc3ByaXRlc2hlZXQoJ2VuZW15JywgJ2ltYWdlcy9lbmVteS5wbmcnLCAxNiwgMzIpO1xuXHR9XG5cblx0cHVibGljIGNyZWF0ZSgpIHtcblx0XHRzdXBlci5jcmVhdGUoKTtcblx0XHR0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ3ByZWxvYWRlcicpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuLi9nYW1lT2JqZWN0cy9jaGFyYWN0ZXJzL1BsYXllcic7XG5pbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi4vZ2FtZU9iamVjdHMvR2FtZU9iamVjdCc7XG5pbXBvcnQgeyBNYXBNYW5hZ2VyIH0gZnJvbSAnLi9NYXBNYW5hZ2VyJztcbmltcG9ydCB7IFN0b3JhZ2VNYW5hZ2VyIH0gZnJvbSAnLi9TdG9yYWdlTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFuYWdlciB7XG5cdHB1YmxpYyBtYXBNYW5hZ2VyOiBNYXBNYW5hZ2VyID0gbnVsbDtcblx0cHVibGljIHN0b3JhZ2VNYW5hZ2VyID0gbmV3IFN0b3JhZ2VNYW5hZ2VyKHRoaXMpO1xuXHRwdWJsaWMgZ2FtZU9iamVjdHM6IFNldDxHYW1lT2JqZWN0PiA9IG5ldyBTZXQoKTtcblx0cHVibGljIGdhbWVPYmplY3RzR3JvdXA6IFBoYXNlci5Hcm91cCA9IG51bGw7XG5cdHB1YmxpYyBwbGF5ZXI6IFBsYXllciA9IG51bGw7XG5cdHB1YmxpYyBwbGF5ZXJOYW1lOiBzdHJpbmcgPSBudWxsO1xuXHRwdWJsaWMgbGV2ZWwgPSBHYW1lTGV2ZWxzLkZpcnN0O1xuXHRwdWJsaWMgcGVuZGluZ09uQ3JlYXRlOiBGdW5jdGlvbltdID0gW107XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBnYW1lOiBQaGFzZXIuR2FtZSkge1xuXHRcdC8vIHRoaXMuZ2FtZU9iamVjdHNHcm91cCA9IGdhbWUuYWRkLmdyb3VwKG51bGwsICdnYW1lT2JqZWN0cycsIHVuZGVmaW5lZCwgdHJ1ZSwgUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcblx0XHQvLyB0aGlzLm9ic3RhY2xlc0dyb3VwID0gZ2FtZS5hZGQuZ3JvdXAobnVsbCwgJ29ic3RhY2xlcycsIHVuZGVmaW5lZCwgdHJ1ZSwgUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcblx0XHR0aGlzLmdhbWVPYmplY3RzR3JvdXAgPSBnYW1lLmFkZC5ncm91cChnYW1lLndvcmxkLCAnZ2FtZU9iamVjdHNHcm91cCcsIHRydWUsIGZhbHNlLCBQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xuXHR9XG5cblx0cHVibGljIGNsZWFyKCkge1xuXHRcdGZvciAoY29uc3QgZ2FtZU9iamVjdCBvZiB0aGlzLmdhbWVPYmplY3RzKSBnYW1lT2JqZWN0LmRlc3Ryb3kodHJ1ZSk7XG5cdFx0dGhpcy5nYW1lT2JqZWN0cy5jbGVhcigpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHVwZGF0ZSgpIHtcblx0XHRmb3IgKGNvbnN0IGdhbWVPYmplY3Qgb2YgdGhpcy5nYW1lT2JqZWN0cykgZ2FtZU9iamVjdC51cGRhdGUoKTtcblx0XHR0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUuY29sbGlkZSh0aGlzLmdhbWVPYmplY3RzR3JvdXAsIHVuZGVmaW5lZCwgKGcxOiBHYW1lT2JqZWN0LCBnMjogR2FtZU9iamVjdCkgPT4gZzEuY29sbGlkZXMoZzIpICYmIGcyLmNvbGxpZGVzKGcxKSk7XG5cdH1cblxufVxuXG4vKipcbiAqIFRoZSBnYW1lJ3MgbGV2ZWxzXG4gKi9cbmV4cG9ydCBlbnVtIEdhbWVMZXZlbHMge1xuXHRGaXJzdFxufVxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vZ2FtZU9iamVjdHMvY2hhcmFjdGVycy9QbGF5ZXInO1xuaW1wb3J0IHsgR2FtZU9iamVjdCwgSUdhbWVPYmplY3RTZXJpYWxpemVkIH0gZnJvbSAnLi4vZ2FtZU9iamVjdHMvR2FtZU9iamVjdCc7XG5pbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4vR2FtZU1hbmFnZXInO1xuXG5leHBvcnQgY2xhc3MgU3RvcmFnZU1hbmFnZXIge1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlcikgeyB9XG5cblx0cHVibGljIHNhdmUoKSB7XG5cdFx0bG9jYWxTdG9yYWdlLmNsZWFyKCk7XG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dhbWVPYmplY3RzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5nYW1lTWFuYWdlci5nYW1lT2JqZWN0cykpO1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsZXZlbCcsIHRoaXMuZ2FtZU1hbmFnZXIubGV2ZWwudG9TdHJpbmcoKSk7XG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BsYXllck5hbWUnLCB0aGlzLmdhbWVNYW5hZ2VyLnBsYXllck5hbWUpO1xuXHR9XG5cblx0cHVibGljIGxvYWQoKSB7XG5cdFx0Ly8gQ2xlYXIgdGhlIGdhbWUgbWFuYWdlclxuXHRcdHRoaXMuZ2FtZU1hbmFnZXIuY2xlYXIoKTtcblxuXHRcdC8vIExvYWQgdGhlIGRhdGFcblx0XHRjb25zdCByYXdMZXZlbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZXZlbCcpO1xuXHRcdGlmIChyYXdMZXZlbCA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBhIHNhdmVkIGZpbGUuYCk7XG5cdFx0Y29uc3QgbGV2ZWwgPSBOdW1iZXIocmF3TGV2ZWwpO1xuXG5cdFx0dGhpcy5nYW1lTWFuYWdlci5sZXZlbCA9IGxldmVsO1xuXG5cdFx0Y29uc3QgZ2FtZU9iamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lT2JqZWN0cycpKSBhcyBJR2FtZU9iamVjdFNlcmlhbGl6ZWRbXTtcblx0XHRpZiAoZ2FtZU9iamVjdHMpIHRoaXMubG9hZEdhbWVPYmplY3RzKGdhbWVPYmplY3RzKTtcblxuXHRcdGNvbnN0IHBsYXllck5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGxheWVyTmFtZScpO1xuXHRcdGlmIChwbGF5ZXJOYW1lKSB0aGlzLmxvYWRQbGF5ZXJOYW1lKHBsYXllck5hbWUpO1xuXHR9XG5cblx0cHVibGljIGxvYWRHYW1lT2JqZWN0cyhnYW1lT2JqZWN0czogSUdhbWVPYmplY3RTZXJpYWxpemVkW10pIHtcblx0XHRmb3IgKGNvbnN0IGdhbWVPYmplY3Qgb2YgZ2FtZU9iamVjdHMpIHtcblx0XHRcdGNvbnN0IEN0b3IgPSBHYW1lT2JqZWN0LmZhY3RvcnkuZ2V0KGdhbWVPYmplY3QudHlwZSk7XG5cdFx0XHRpZiAoIUN0b3IpIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgYSBjb25zdHJ1Y3RvciBmb3IgJHtnYW1lT2JqZWN0LnR5cGUgfHwgJ3Vua25vd24nfS4gQWJvcnRpbmcuYCk7XG5cdFx0XHRjb25zdCBpbnN0YW5jZSA9IG5ldyBDdG9yKHRoaXMuZ2FtZU1hbmFnZXIsIGdhbWVPYmplY3QucG9zaXRpb24ueCwgZ2FtZU9iamVjdC5wb3NpdGlvbi55LCBnYW1lT2JqZWN0LmtleSwgZ2FtZU9iamVjdC5mcmFtZSkuZnJvbUpTT04oZ2FtZU9iamVjdCk7XG5cdFx0XHRpZiAoZ2FtZU9iamVjdC50eXBlID09PSAnUGxheWVyJykgdGhpcy5nYW1lTWFuYWdlci5wbGF5ZXIgPSBpbnN0YW5jZSBhcyBQbGF5ZXI7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGxvYWRQbGF5ZXJOYW1lKHBsYXllck5hbWU6IHN0cmluZykge1xuXHRcdHRoaXMuZ2FtZU1hbmFnZXIucGxheWVyTmFtZSA9IHBsYXllck5hbWU7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gJy4uL2NvbW1vbi9GYWN0b3J5JztcbmltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuL0dhbWVPYmplY3QnO1xuXG5leHBvcnQgY2xhc3MgR2FtZU9iamVjdEZhY3RvcnkgZXh0ZW5kcyBGYWN0b3J5PEdhbWVPYmplY3QsIHR5cGVvZiBHYW1lT2JqZWN0PnsgfVxuIiwiZXhwb3J0IGNsYXNzIEZhY3Rvcnk8ViwgQyBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IFY+IGV4dGVuZHMgTWFwPHN0cmluZywgQz4ge31cbiIsImltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuaW1wb3J0IHsgUm91dGUgfSBmcm9tICcuLi8uLi9taXNjL1JvdXRlJztcbmltcG9ydCB7IEVuZW15U3RhdGUgfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IENoYXJhY3RlciwgSUNoYXJhY3RlclNlcmlhbGl6ZWQgfSBmcm9tICcuL0NoYXJhY3Rlcic7XG5cbmV4cG9ydCBjbGFzcyBFbmVteSBleHRlbmRzIENoYXJhY3RlciB7XG5cdHB1YmxpYyByb3V0ZSA9IG5ldyBSb3V0ZSgpO1xuXHRwcm90ZWN0ZWQgcG92ID0gTWF0aC5QSSAqIDAuODU7XG5cdHByb3RlY3RlZCBpc1RhcmdldCA9IGZhbHNlO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0c3VwZXIoZ2FtZU1hbmFnZXIsIHgsIHksICdlbmVteScpO1xuXHR9XG5cblx0cHVibGljIHNldFRhcmdldChpc1RhcmdldDogYm9vbGVhbikge1xuXHRcdHRoaXMuaXNUYXJnZXQgPSBpc1RhcmdldDtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyBzZXRQb3YocG92OiBudW1iZXIpIHtcblx0XHR0aGlzLnBvdiA9IHBvdjtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyBjaGFzZSgpIHtcblx0XHQvLyBUT0RPOiBIb3cgZG8gd2Uga25vdyB0aGUgUGxheWVyJ3MgcG9zaXRpb24/XG5cdFx0Ly8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBsb2dpY1xuXHRcdHRoaXMuc2V0U3RhdGUoRW5lbXlTdGF0ZS5wdXJzdWl0KTtcblxuXHRcdC8vIFRPRE86IEltcGxlbWVudCBtZXRob2QgdG8gcmVzZXQgcHVyc3VpdCB0byBvblJvdXRlLCBpbmNsdWRpbmdcblx0XHQvLyB0aGUgdXNhZ2Ugb2YgRGlqa3N0cmEncyBhbGdvcml0aG0gdG8gZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcm91dGUuXG5cdFx0Ly8gVE9ETzogQWRkIG1ldGhvZCB0byBwaW5wb2ludCBwb3NpdGlvbnMgdG8gdGhlIHJvdXRlXG5cdH1cblxuXHRwdWJsaWMgZnJvbUpTT04oZGF0YTogSUVuZW15U2VyaWFsaXplZCkge1xuXHRcdHN1cGVyLmZyb21KU09OKGRhdGEpO1xuXHRcdHRoaXMuaXNUYXJnZXQgPSBkYXRhLmlzVGFyZ2V0O1xuXHRcdHRoaXMucG92ID0gZGF0YS5wb3Y7XG5cdFx0dGhpcy5yb3V0ZS5zZXQoZGF0YS5yb3V0ZSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElFbmVteVNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci50b0pTT04oKSxcblx0XHRcdGlzVGFyZ2V0OiB0aGlzLmlzVGFyZ2V0LFxuXHRcdFx0cG92OiB0aGlzLnBvdixcblx0XHRcdHJvdXRlOiB0aGlzLnJvdXRlLnRvSlNPTigpXG5cdFx0fTtcblx0fVxuXG59XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgZW5lbXkgZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElFbmVteVNlcmlhbGl6ZWQgZXh0ZW5kcyBJQ2hhcmFjdGVyU2VyaWFsaXplZCB7XG5cdGlzVGFyZ2V0OiBib29sZWFuO1xuXHRwb3Y6IG51bWJlcjtcblx0cm91dGU6IFtudW1iZXIsIG51bWJlcl1bXTtcbn1cbiIsIi8qKlxuICogVGhlIGFycmF5IHJvdXRlIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBcnJheVJvdXRlIGV4dGVuZHMgQXJyYXk8W251bWJlciwgbnVtYmVyXT4geyB9XG5cbmV4cG9ydCBjbGFzcyBSb3V0ZSB7XG5cdHByaXZhdGUgcm91dGU6IEFycmF5Um91dGUgPSBbXTtcblxuXHQvKipcblx0ICogU2V0IGEgbmV3IHJvdXRlIGZvciB0aGlzIGluc3RhbmNlXG5cdCAqIEBwYXJhbSByb3V0ZSBUaGUgbmV3IHJvdXRlXG5cdCAqL1xuXHRwdWJsaWMgc2V0KHJvdXRlOiBBcnJheVJvdXRlKSB7XG5cdFx0dGhpcy5yb3V0ZSA9IHJvdXRlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCBhIG5ldyByb3V0ZSBwb3NpdGlvblxuXHQgKiBAcGFyYW0geCBUaGUgbmV3IHggcG9zaXRpb25cblx0ICogQHBhcmFtIHkgVGhlIG5ldyB5IHBvc2l0aW9uXG5cdCAqL1xuXHRwdWJsaWMgYWRkKHg6IG51bWJlciwgeTogbnVtYmVyKTogdGhpcztcblx0cHVibGljIGFkZChwb3NpdGlvbjogW251bWJlciwgbnVtYmVyXSk6IHRoaXM7XG5cdHB1YmxpYyBhZGQoeDogbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXSwgeT86IG51bWJlcikge1xuXHRcdHRoaXMucm91dGUucHVzaCh0eXBlb2YgeCA9PT0gJ251bWJlcicgPyBbeCwgeV0gOiB4KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYSByb3V0ZSBwb3NpdGlvblxuXHQgKiBAcGFyYW0geCBUaGUgeCBwb3NpdGlvblxuXHQgKiBAcGFyYW0geSBUaGUgeSBwb3NpdGlvblxuXHQgKi9cblx0cHVibGljIHJlbW92ZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHRoaXM7XG5cdHB1YmxpYyByZW1vdmUocG9zaXRpb246IFtudW1iZXIsIG51bWJlcl0pOiB0aGlzO1xuXHRwdWJsaWMgcmVtb3ZlKHg6IG51bWJlciB8IFtudW1iZXIsIG51bWJlcl0sIHk/OiBudW1iZXIpIHtcblx0XHRjb25zdCBwb3NpdGlvbiA9IHR5cGVvZiB4ID09PSAnbnVtYmVyJyA/IFt4LCB5XSBhcyBbbnVtYmVyLCBudW1iZXJdIDogeDtcblx0XHRjb25zdCBpbmRleCA9IHRoaXMucm91dGUuZmluZEluZGV4KChyb3V0ZSkgPT4gcm91dGVbMF0gPT09IHBvc2l0aW9uWzBdICYmIHJvdXRlWzBdID09PSBwb3NpdGlvblsxXSk7XG5cdFx0aWYgKGluZGV4ICE9PSAtMSkgdGhpcy5yb3V0ZS5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlc2V0IHRoaXMgcm91dGVcblx0ICovXG5cdHB1YmxpYyByZXNldCgpIHtcblx0XHR0aGlzLnJvdXRlLmxlbmd0aCA9IDA7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCkge1xuXHRcdHJldHVybiB0aGlzLnJvdXRlLnNsaWNlKCk7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuLi8uLi9tYW5hZ2Vycy9HYW1lTWFuYWdlcic7XG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL0NoYXJhY3Rlcic7XG5cbmV4cG9ydCBjbGFzcyBOUEMgZXh0ZW5kcyBDaGFyYWN0ZXIge1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0c3VwZXIoZ2FtZU1hbmFnZXIsIHgsIHksICducGMnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgb25JdGVyYWN0aW9uIGhhbmRsZXJcblx0ICovXG5cdHB1YmxpYyBpbnRlcmFjdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG59XG4iLCJpbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uLy4uL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcbmltcG9ydCB7IERpcmVjdGlvbiwgSGlkaW5nVHlwZSwgUGxheWVyU3RhdGUgfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IEhpZGluZ1Nwb3QsIElIaWRpbmdTcG90U2VyaWFsaXplZCB9IGZyb20gJy4uL2hpZGluZ1Nwb3RzL0hpZGluZ1Nwb3QnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyLCBJQ2hhcmFjdGVyU2VyaWFsaXplZCB9IGZyb20gJy4vQ2hhcmFjdGVyJztcblxuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIENoYXJhY3RlciB7XG5cblx0cHVibGljIGhpZGluZ1Nwb3Q6IEhpZGluZ1Nwb3QgPSBudWxsO1xuXHRwdWJsaWMgbW9uZXkgPSAwO1xuXHRwcml2YXRlIHJlYWRvbmx5IGRpcmVjdGlvbnMgPSB7XG5cdFx0ZG93bjogZmFsc2UsXG5cdFx0bGVmdDogZmFsc2UsXG5cdFx0cmlnaHQ6IGZhbHNlLFxuXHRcdHVwOiBmYWxzZVxuXHR9O1xuXHRwcml2YXRlIHJlYWRvbmx5IGN1cnNvcktleXM6IFBoYXNlci5DdXJzb3JLZXlzID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcblx0cHJpdmF0ZSByZWFkb25seSBhY3Rpb25zID0ge1xuXHRcdGludGVyYWN0OiBmYWxzZSxcblx0XHRraWxsOiBmYWxzZVxuXHR9O1xuXHRwcml2YXRlIG1vdmVtZW50UmVmcmVzaCA9IDA7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlciwgeCwgeSwgJ3BsYXllcicpO1xuXHRcdHRoaXMuZ2FtZS5jYW1lcmEuZm9sbG93KHRoaXMpO1xuXHRcdHRoaXMuYm9keS5pbW1vdmFibGUgPSBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyB1cGRhdGUoKSB7XG5cdFx0aWYgKERhdGUubm93KCkgPCB0aGlzLm1vdmVtZW50UmVmcmVzaCkgcmV0dXJuO1xuXG5cdFx0dGhpcy5kaXJlY3Rpb25zLmRvd24gPSB0aGlzLmN1cnNvcktleXMuZG93bi5pc0Rvd247XG5cdFx0dGhpcy5kaXJlY3Rpb25zLmxlZnQgPSB0aGlzLmN1cnNvcktleXMubGVmdC5pc0Rvd247XG5cdFx0dGhpcy5kaXJlY3Rpb25zLnJpZ2h0ID0gdGhpcy5jdXJzb3JLZXlzLnJpZ2h0LmlzRG93bjtcblx0XHR0aGlzLmRpcmVjdGlvbnMudXAgPSB0aGlzLmN1cnNvcktleXMudXAuaXNEb3duO1xuXG5cdFx0Y29uc3Qga2V5Ym9hcmQgPSB0aGlzLmdhbWVNYW5hZ2VyLmdhbWUuaW5wdXQua2V5Ym9hcmQ7XG5cdFx0Y29uc3QgcnVubmluZyA9IGtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuU0hJRlQpO1xuXG5cdFx0aWYgKHRoaXMuZGlyZWN0aW9ucy5kb3duICE9PSB0aGlzLmRpcmVjdGlvbnMudXApIHtcblx0XHRcdHRoaXMuZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb25zLmRvd24gPyBEaXJlY3Rpb24uZG93biA6IERpcmVjdGlvbi51cDtcblx0XHRcdGlmIChydW5uaW5nKSB0aGlzLnJ1bigpO1xuXHRcdFx0ZWxzZSB0aGlzLndhbGsoKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9ucy5sZWZ0ICE9PSB0aGlzLmRpcmVjdGlvbnMucmlnaHQpIHtcblx0XHRcdHRoaXMuZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb25zLmxlZnQgPyBEaXJlY3Rpb24ubGVmdCA6IERpcmVjdGlvbi5yaWdodDtcblx0XHRcdGlmIChydW5uaW5nKSB0aGlzLnJ1bigpO1xuXHRcdFx0ZWxzZSB0aGlzLndhbGsoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zdGFuZCgpO1xuXHRcdH1cblxuXHRcdGlmIChrZXlib2FyZC5pc0Rvd24oUGhhc2VyLktleWJvYXJkLlgpKSB7XG5cdFx0XHR0aGlzLmFjdGlvbnMuaW50ZXJhY3QgPSBmYWxzZTtcblx0XHRcdHRoaXMuYWN0aW9ucy5raWxsID0gdHJ1ZTtcblx0XHRcdHRoaXMudHJpZ2dlcldhbGsoKTtcblx0XHR9IGVsc2UgaWYgKGtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuWikpIHtcblx0XHRcdHRoaXMuYWN0aW9ucy5pbnRlcmFjdCA9IHRydWU7XG5cdFx0XHR0aGlzLmFjdGlvbnMua2lsbCA9IGZhbHNlO1xuXHRcdFx0dGhpcy50cmlnZ2VyV2FsaygpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmFjdGlvbnMuaW50ZXJhY3QgPSBmYWxzZTtcblx0XHRcdHRoaXMuYWN0aW9ucy5raWxsID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGF0dGFjayhjaGFyYWN0ZXI6IENoYXJhY3Rlcikge1xuXHRcdHN1cGVyLmF0dGFjayhjaGFyYWN0ZXIpO1xuXHRcdHRoaXMubW92ZW1lbnRSZWZyZXNoID0gdGhpcy5hdHRhY2tSZWZyZXNoO1xuXHR9XG5cblx0cHVibGljIGNvbGxpZGVzKGdhbWVPYmplY3Q6IENoYXJhY3Rlcikge1xuXHRcdGlmICghKGdhbWVPYmplY3QgaW5zdGFuY2VvZiBDaGFyYWN0ZXIpKSByZXR1cm47XG5cdFx0aWYgKHRoaXMuYWN0aW9ucy5raWxsKSB0aGlzLmF0dGFjayhnYW1lT2JqZWN0KTtcblx0XHRlbHNlIGlmICh0aGlzLmFjdGlvbnMuaW50ZXJhY3QpIGdhbWVPYmplY3QuaW50ZXJhY3QodGhpcyk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogSGlkZXMgdGhlIHBsYXllciwgY2hhbmdpbmcgdGhlIHN0YXRlIGFuZCBzZXR0aW5nIHRoZSBoaWRpbmcgc3BvdFxuXHQgKiBAcGFyYW0gaGlkaW5nU3BvdCBUaGUgaGlkaW5nIHNwb3Rcblx0ICovXG5cdHB1YmxpYyBoaWRlKGhpZGluZ1Nwb3Q6IEhpZGluZ1Nwb3QpIHtcblx0XHRpZiAoaGlkaW5nU3BvdC5oaWRpbmdUeXBlICE9PSBIaWRpbmdUeXBlLm5vbmUpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoUGxheWVyU3RhdGUuaGlkZGVuKTtcblx0XHRcdHRoaXMuaGlkaW5nU3BvdCA9IGhpZGluZ1Nwb3Q7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldmVhbHMgdGhlIHBsYXllciwgbGVhdmluZyB0aGUgaGlkaW5nIHBsYWNlIGlmIHRoZXJlIHdhcyBhbnlcblx0ICovXG5cdHB1YmxpYyByZXZlYWwoKSB7XG5cdFx0aWYgKHRoaXMuaGlkaW5nU3BvdCkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh0aGlzLmhlYWx0aCA/IFBsYXllclN0YXRlLnN0YW5kIDogUGxheWVyU3RhdGUuZGVhZCk7XG5cdFx0XHR0aGlzLmhpZGluZ1Nwb3QgPSBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyBmcm9tSlNPTihkYXRhOiBJUGxheWVyU2VyaWFsaXplZCkge1xuXHRcdHN1cGVyLmZyb21KU09OKGRhdGEpO1xuXHRcdHRoaXMubW9uZXkgPSBkYXRhLm1vbmV5O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHRvSlNPTigpOiBJUGxheWVyU2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0aGlkaW5nU3BvdDogdGhpcy5oaWRpbmdTcG90LnRvSlNPTigpLFxuXHRcdFx0bW9uZXk6IHRoaXMubW9uZXlcblx0XHR9O1xuXHR9XG5cbn1cblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBwbGF5ZXIgZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElQbGF5ZXJTZXJpYWxpemVkIGV4dGVuZHMgSUNoYXJhY3RlclNlcmlhbGl6ZWQge1xuXHRoaWRpbmdTcG90OiBJSGlkaW5nU3BvdFNlcmlhbGl6ZWQ7XG5cdG1vbmV5OiBudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uLy4uL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcbmltcG9ydCB7IEhpZGluZ1R5cGUgfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IEdhbWVPYmplY3QsIElHYW1lT2JqZWN0U2VyaWFsaXplZCB9IGZyb20gJy4uL0dhbWVPYmplY3QnO1xuXG5leHBvcnQgY2xhc3MgSGlkaW5nU3BvdCBleHRlbmRzIEdhbWVPYmplY3Qge1xuXG5cdC8qKlxuXHQgKiBUaGUgaGlkaW5nIHR5cGVcblx0ICovXG5cdHB1YmxpYyBoaWRpbmdUeXBlID0gSGlkaW5nVHlwZS5ub25lO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0c3VwZXIoZ2FtZU1hbmFnZXIsIHgsIHksICdoaWRpbmdTcG90Jyk7XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHRoZSBoaWRpbmcgdHlwZSBmb3IgdGhpcyBzcG90XG5cdCAqIEBwYXJhbSBoaWRpbmdUeXBlIFRoZSBoaWRpbmcgdHlwZVxuXHQgKi9cblx0cHVibGljIHNldEhpZGluZ1R5cGUoaGlkaW5nVHlwZTogSGlkaW5nVHlwZSkge1xuXHRcdHRoaXMuaGlkaW5nVHlwZSA9IGhpZGluZ1R5cGU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElIaWRpbmdTcG90U2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0aGlkaW5nVHlwZTogdGhpcy5oaWRpbmdUeXBlXG5cdFx0fTtcblx0fVxuXG59XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgaGlkaW5nIHNwb3QgZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElIaWRpbmdTcG90U2VyaWFsaXplZCBleHRlbmRzIElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdGhpZGluZ1R5cGU6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuaW1wb3J0IHsgQm91bGRlclN0YXRlLCBEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IFRyYXAgfSBmcm9tICcuL1RyYXAnO1xuXG5leHBvcnQgY2xhc3MgQm91bGRlciBleHRlbmRzIFRyYXAge1xuXG5cdHByb3RlY3RlZCBzdGF0ZSA9IEJvdWxkZXJTdGF0ZS5zdG9wO1xuXHRwcm90ZWN0ZWQgZGlyZWN0aW9uID0gRGlyZWN0aW9uLmRvd247XG5cdHByb3RlY3RlZCBzcGVlZCA9IDA7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlciwgeCwgeSwgJ2JvdWxkZXInKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgdGhlIGJvdWxkZXIncyBjdXJyZW50IHZlbG9jaXR5IGFuZCBzdGF0dXMgdG8gdGhlIGN1cnJlbnQgZGlyZWN0aW9uXG5cdCAqL1xuXHRwdWJsaWMgbW92ZSgpIHtcblx0XHR0aGlzLnN0YXRlID0gQm91bGRlclN0YXRlLm1vdmU7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjpcblx0XHRcdFx0dGhpcy5ib2R5LnZlbG9jaXR5LnggPSAwO1xuXHRcdFx0XHR0aGlzLmJvZHkudmVsb2NpdHkueSA9IHRoaXMuc3BlZWQ7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24udXA6XG5cdFx0XHRcdHRoaXMuYm9keS52ZWxvY2l0eS54ID0gMDtcblx0XHRcdFx0dGhpcy5ib2R5LnZlbG9jaXR5LnkgPSAtdGhpcy5zcGVlZDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi5sZWZ0OlxuXHRcdFx0XHR0aGlzLmJvZHkudmVsb2NpdHkueCA9IC10aGlzLnNwZWVkO1xuXHRcdFx0XHR0aGlzLmJvZHkudmVsb2NpdHkueSA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhpcy5ib2R5LnZlbG9jaXR5LnggPSB0aGlzLnNwZWVkO1xuXHRcdFx0XHR0aGlzLmJvZHkudmVsb2NpdHkueSA9IDA7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoYW5nZSB0aGUgYm91bGRlcidzIGN1cnJlbnQgdmVsb2NpdHkgYW5kIHN0YXR1cyB0byB6ZXJvXG5cdCAqL1xuXHRwdWJsaWMgc3RvcCgpIHtcblx0XHR0aGlzLnN0YXRlID0gQm91bGRlclN0YXRlLnN0b3A7XG5cdFx0dGhpcy5ib2R5LnZlbG9jaXR5LnggPSAwO1xuXHRcdHRoaXMuYm9keS52ZWxvY2l0eS55ID0gMDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgdGhlIG1vdmluZyBkaXJlY3Rpb24gZm9yIHRoaXMgYm91bGRlclxuXHQgKiBAcGFyYW0gZGlyZWN0aW9uIFRoZSBuZXcgZGlyZWN0aW9uXG5cdCAqL1xuXHRwdWJsaWMgc2V0RGlyZWN0aW9uKGRpcmVjdGlvbjogRGlyZWN0aW9uKSB7XG5cdFx0dGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQ2hhbmdlIHRoZSBzcGVlZCBmb3IgdGhpcyBib3VsZGVyXG5cdCAqIEBwYXJhbSBzcGVlZCBUaGUgbmV3IHNwZWVkXG5cdCAqL1xuXHRwdWJsaWMgc2V0U3BlZWQoc3BlZWQ6IG51bWJlcikge1xuXHRcdHRoaXMuc3BlZWQgPSBzcGVlZDtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG59XG4iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuL0dhbWVTdGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBNZW51U3RhdGUgZXh0ZW5kcyBHYW1lU3RhdGUge1xuXG5cdHB1YmxpYyB0ZXh0czogUGhhc2VyLlRleHRbXSA9IFtdO1xuXHRwdWJsaWMgbG9nbzogUGhhc2VyLlNwcml0ZSA9IG51bGw7XG5cblx0cHVibGljIGNyZWF0ZSgpIHtcblx0XHRzdXBlci5jcmVhdGUoKTtcblx0XHR0aGlzLmdhbWUuc3RhZ2UuYmFja2dyb3VuZENvbG9yID0gJyMyQTFCMTknO1xuXHRcdHRoaXMubG9nbyA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSAtIDEyMCwgJ2xvZ28nKTtcblx0XHR0aGlzLmxvZ28uYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcblx0XHR0aGlzLmxvZ28uc2NhbGUuc2V0VG8oMC41LCAwLjUpO1xuXG5cdFx0dGhpcy5jcmVhdGVCdXR0b24oJ05ldyBHYW1lJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCduZXdHYW1lJyk7XG5cdFx0fSk7XG5cdFx0aWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZXZlbCcpKSB0aGlzLmNyZWF0ZUJ1dHRvbignQ29udGludWUnLCAoKSA9PiB7XG5cdFx0XHRHYW1lU3RhdGUuZ2FtZU1hbmFnZXIuc3RvcmFnZU1hbmFnZXIubG9hZCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHNodXRkb3duKCkge1xuXHRcdGZvciAoY29uc3QgdGV4dCBvZiB0aGlzLnRleHRzKSB0ZXh0LmRlc3Ryb3kodHJ1ZSk7XG5cdFx0dGhpcy50ZXh0cy5sZW5ndGggPSAwO1xuXHRcdHRoaXMubG9nby5kZXN0cm95KHRydWUpO1xuXHRcdHN1cGVyLnNodXRkb3duKCk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZUJ1dHRvbihuYW1lOiBzdHJpbmcsIGNiOiBGdW5jdGlvbikge1xuXHRcdGNvbnN0IHRleHQgPSB0aGlzLmdhbWUuYWRkLnRleHQodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZLCBuYW1lLCB7IGZvbnQ6ICc2NXB4IEFyaWFsJywgZmlsbDogJyNDRENEQ0QnLCBhbGlnbjogJ2NlbnRlcicgfSk7XG5cdFx0dGV4dC5hbmNob3Iuc2V0KDAuNSk7XG5cdFx0dGV4dC5pbnB1dEVuYWJsZWQgPSB0cnVlO1xuXHRcdHRleHQuZXZlbnRzLm9uSW5wdXRVcC5hZGQoY2IsIHRoaXMpO1xuXHRcdHRleHQuZXZlbnRzLm9uSW5wdXREb3duLmFkZCgoKSA9PiB7XG5cdFx0XHR0ZXh0LmZpbGwgPSAnI0ZGMDA0NCc7XG5cdFx0XHR0ZXh0LmV2ZW50cy5vbklucHV0T3Zlci5yZW1vdmVBbGwoKTtcblx0XHRcdHRleHQuZXZlbnRzLm9uSW5wdXRPdXQucmVtb3ZlQWxsKCk7XG5cdFx0fSk7XG5cdFx0dGV4dC5ldmVudHMub25JbnB1dE92ZXIuYWRkKCgpID0+IHsgdGV4dC5maWxsID0gJyNGRkZGRkYnOyB9KTtcblx0XHR0ZXh0LmV2ZW50cy5vbklucHV0T3V0LmFkZCgoKSA9PiB7IHRleHQuZmlsbCA9ICcjRUZFRkVGJzsgfSk7XG5cdFx0dGhpcy50ZXh0cy5wdXNoKHRleHQpO1xuXHRcdHRleHQuYWxpZ25Ubyh0aGlzLnRleHRzLmxlbmd0aCA/IHRoaXMudGV4dHNbdGhpcy50ZXh0cy5sZW5ndGggLSAxXSA6IHRoaXMubG9nbywgUGhhc2VyLkJPVFRPTV9DRU5URVIsIDE2KTtcblx0fVxuXG59XG4iLCJpbXBvcnQgeyByZWFkTGluZSB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuL0dhbWVTdGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBOZXdHYW1lU3RhdGUgZXh0ZW5kcyBHYW1lU3RhdGUge1xuXG5cdHB1YmxpYyBwcmVsb2FkKCkge1xuXHRcdHRoaXMuZ2FtZS5sb2FkLmpzb24oJ0xldmVsLTAtR2FtZU9iamVjdHMnLCAnanNvbi9MZXZlbC0wLUdhbWVPYmplY3RzLmpzb24nKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0Y29uc3QgdGl0bGVUZXh0ID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSAtIDY1LCAnSW5zZXJ0IHlvdXIgbmFtZScsXG5cdFx0XHR7IGZvbnQ6ICc2NXB4IEFyaWFsJywgZmlsbDogJyNDRENEQ0QnLCBhbGlnbjogJ2NlbnRlcicgfSk7XG5cdFx0dGl0bGVUZXh0LmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XG5cblx0XHRjb25zdCBpbnB1dFRleHQgPSB0aGlzLmdhbWUuYWRkLnRleHQodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZLCAnJyxcblx0XHRcdHsgZm9udDogJzY1cHggQXJpYWwnLCBmaWxsOiAnI0NEQ0RDRCcsIGFsaWduOiAnY2VudGVyJyB9KTtcblx0XHRpbnB1dFRleHQuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcblx0XHRpbnB1dFRleHQuYWxpZ25Ubyh0aXRsZVRleHQsIFBoYXNlci5CT1RUT01fQ0VOVEVSLCAwLCAyNSk7XG5cblx0XHRyZWFkTGluZShpbnB1dFRleHQsIChuYW1lKSA9PiB7XG5cdFx0XHR0aXRsZVRleHQuZGVzdHJveSh0cnVlKTtcblx0XHRcdGlucHV0VGV4dC5kZXN0cm95KHRydWUpO1xuXHRcdFx0dGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdwbGF5Jyk7XG5cdFx0XHRjb25zdCBnYW1lTWFuYWdlciA9IEdhbWVTdGF0ZS5nYW1lTWFuYWdlcjtcblx0XHRcdGdhbWVNYW5hZ2VyLnBsYXllck5hbWUgPSBuYW1lO1xuXHRcdFx0Z2FtZU1hbmFnZXIucGVuZGluZ09uQ3JlYXRlLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnTG9hZGluZyBOZXcgR2FtZS4uLicpO1xuXHRcdFx0XHRnYW1lTWFuYWdlci5zdG9yYWdlTWFuYWdlci5sb2FkR2FtZU9iamVjdHModGhpcy5nYW1lLmNhY2hlLmdldEpTT04oJ0xldmVsLTAtR2FtZU9iamVjdHMnKSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdMb2FkZWQhJyk7XG5cdFx0XHR9KTtcblx0XHR9LCB7IG1heGltdW1MZW5ndGg6IDIwIH0pO1xuXHR9XG5cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjaHVuazxUPihlbnRyaWVzOiBUW10sIGNodW5rU2l6ZTogbnVtYmVyKTogVFtdW10ge1xuXHRjb25zdCBjbG9uZSA9IGVudHJpZXMuc2xpY2UoKTtcblx0Y29uc3QgY2h1bmtzID0gW107XG5cdHdoaWxlIChjbG9uZS5sZW5ndGgpIGNodW5rcy5wdXNoKGNsb25lLnNwbGljZSgwLCBjaHVua1NpemUpKTtcblx0cmV0dXJuIGNodW5rcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRMaW5lKHRleHQ6IFBoYXNlci5UZXh0LCBjYjogKHRleHQ6IHN0cmluZykgPT4gdm9pZCwgb3B0aW9ucz86IFBoYXNlclJlYWRMaW5lT3B0aW9ucykge1xuXHRjb25zdCBjb250ZW50ID0gW107XG5cdGNvbnN0IG1heGltdW0gPSAnbWF4aW11bUxlbmd0aCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMubWF4aW11bUxlbmd0aCA6IDEwMDtcblxuXHRjb25zdCBsaXN0ZW5lciA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsaXN0ZW5lcik7XG5cdFx0XHRjYihjb250ZW50LmpvaW4oJycpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykge1xuXHRcdFx0aWYgKGNvbnRlbnQubGVuZ3RoKSBjb250ZW50LnBvcCgpO1xuXHRcdH0gZWxzZSBpZiAoY29udGVudC5sZW5ndGggPD0gbWF4aW11bSAmJiAvXltcXChcXClcXFtcXF1cXHdcXGRcXC0hP8Khwr8gXSQvLnRlc3QoZXZlbnQua2V5KSkge1xuXHRcdFx0Y29udGVudC5wdXNoKGV2ZW50LmtleSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0ZXh0LnRleHQgPSBjb250ZW50LmpvaW4oJycpO1xuXHR9O1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbGlzdGVuZXIpO1xufVxuXG4vKipcbiAqIFRoZSByZWFkbGluZSBvcHRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGhhc2VyUmVhZExpbmVPcHRpb25zIHtcblx0bWF4aW11bUxlbmd0aD86IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gJy4vR2FtZVN0YXRlJztcblxuZXhwb3J0IGNsYXNzIFBsYXlTdGF0ZSBleHRlbmRzIEdhbWVTdGF0ZSB7XG5cdHB1YmxpYyB0aWxlbWFwczogTWFwPG51bWJlciwgUGhhc2VyLlRpbGVtYXA+ID0gbmV3IE1hcCgpO1xuXHRwdWJsaWMgb2JzdGFjbGVMYXllcjogUGhhc2VyLlRpbGVtYXBMYXllciA9IG51bGw7XG5cblx0cHVibGljIHByZWxvYWQoKSB7XG5cdFx0c3VwZXIucHJlbG9hZCgpO1xuXHRcdHRoaXMuZ2FtZS5sb2FkLnRpbGVtYXAoJ0xldmVsLTAnLCBganNvbi9MZXZlbC0wLmpzb25gLCBudWxsLCBQaGFzZXIuVGlsZW1hcC5USUxFRF9KU09OKTtcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZSgnb3ZlcndvcmxkJywgJ2ltYWdlcy9vdmVyd29ybGQucG5nJyk7XG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ2NhdmUnLCAnaW1hZ2VzL2NhdmUucG5nJyk7XG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ29iamVjdHMnLCAnaW1hZ2VzL29iamVjdHMucG5nJyk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdHRoaXMuZ2V0VGlsZW1hcCgwKTtcblxuXHRcdC8vIFByZXZlbnQgZGlyZWN0aW9ucyBhbmQgc3BhY2Uga2V5IGV2ZW50cyBidWJibGluZyB1cCB0byBicm93c2VyLFxuXHRcdC8vIHNpbmNlIHRoZXNlIGtleXMgd2lsbCBtYWtlIHdlYiBwYWdlIHNjcm9sbCB3aGljaCBpcyBub3Rcblx0XHQvLyBleHBlY3RlZC5cblx0XHR0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5Q2FwdHVyZShbXG5cdFx0XHRQaGFzZXIuS2V5Ym9hcmQuTEVGVCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5SSUdIVCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5VUCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5ET1dOLFxuXHRcdFx0UGhhc2VyLktleWJvYXJkLlNQQUNFQkFSXG5cdFx0XSk7XG5cblx0XHR0aGlzLmdhbWUucGh5c2ljcy5zdGFydFN5c3RlbShQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xuXHRcdHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzk5Ric7XG5cdFx0c3VwZXIuY3JlYXRlKCk7XG5cdH1cblxuXHRwdWJsaWMgdXBkYXRlKCkge1xuXHRcdHN1cGVyLnVwZGF0ZSgpO1xuXHRcdHRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5jb2xsaWRlKEdhbWVTdGF0ZS5nYW1lTWFuYWdlci5nYW1lT2JqZWN0c0dyb3VwLCB0aGlzLm9ic3RhY2xlTGF5ZXIpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGdldFRpbGVtYXAobGV2ZWw6IG51bWJlcikge1xuXHRcdGNvbnN0IG5hbWUgPSBgTGV2ZWwtJHtsZXZlbH1gO1xuXHRcdGxldCB0aWxlbWFwID0gdGhpcy50aWxlbWFwcy5nZXQobGV2ZWwpO1xuXHRcdGlmICghdGlsZW1hcCkge1xuXHRcdFx0dGlsZW1hcCA9IHRoaXMuZ2FtZS5hZGQudGlsZW1hcChuYW1lKTtcblx0XHRcdHRpbGVtYXAuYWRkVGlsZXNldEltYWdlKCdvdmVyd29ybGQnKTtcblxuXHRcdFx0Ly8gQmFja2dyb3VuZFxuXHRcdFx0Y29uc3QgYmFja2dyb3VuZCA9IHRpbGVtYXAuY3JlYXRlTGF5ZXIoMCk7XG5cdFx0XHRiYWNrZ3JvdW5kLnNtb290aGVkID0gZmFsc2U7XG5cdFx0XHRiYWNrZ3JvdW5kLnJlc2l6ZVdvcmxkKCk7XG5cdFx0XHQvLyAvLyBEZWNvcmF0aW9uXG5cdFx0XHR0aWxlbWFwLmNyZWF0ZUxheWVyKDEpLnNtb290aGVkID0gZmFsc2U7XG5cdFx0XHQvLyAvLyBPYnN0YWNsZXNcblx0XHRcdHRoaXMub2JzdGFjbGVMYXllciA9IHRpbGVtYXAuY3JlYXRlTGF5ZXIoMik7XG5cdFx0XHR0aGlzLm9ic3RhY2xlTGF5ZXIuc21vb3RoZWQgPSBmYWxzZTtcblx0XHRcdHRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5lbmFibGUodGhpcy5vYnN0YWNsZUxheWVyKTtcblx0XHRcdHRpbGVtYXAuc2V0Q29sbGlzaW9uQnlFeGNsdXNpb24oW10sIHRydWUsIHRoaXMub2JzdGFjbGVMYXllcik7XG5cdFx0XHQvLyBHYW1lU3RhdGUuZ2FtZU1hbmFnZXIub2JzdGFjbGVzR3JvdXAuYWRkKG9ic3RhY2xlcyk7XG5cdFx0XHQvLyB0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUuZW5hYmxlKG9ic3RhY2xlcyk7XG5cdFx0XHQvLyB0aWxlbWFwLnNldENvbGxpc2lvbkJ5RXhjbHVzaW9uKFtdLCB0cnVlLCBvYnN0YWNsZXMpO1xuXG5cdFx0XHR0aGlzLnRpbGVtYXBzLnNldChsZXZlbCwgdGlsZW1hcCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRpbGVtYXA7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSAnLi9HYW1lU3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgUHJlbG9hZGVyU3RhdGUgZXh0ZW5kcyBHYW1lU3RhdGUge1xuXG5cdHByaXZhdGUgbG9hZGluZ0JhcjogUGhhc2VyLlNwcml0ZTtcblxuXHRwdWJsaWMgcHJlbG9hZCgpIHtcblx0XHR0aGlzLmxvYWRpbmdCYXIgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSgwLCAyNDAsICdwcmVsb2FkZXJfYmFyJyk7XG5cdFx0dGhpcy5sb2FkaW5nQmFyLmFuY2hvci5zZXRUbygwLCAwLjUpO1xuXHRcdHRoaXMubG9hZC5zZXRQcmVsb2FkU3ByaXRlKHRoaXMubG9hZGluZ0Jhcik7XG5cblx0XHQvLyBUT0RPOiBsb2FkIGhlcmUgdGhlIGFzc2V0cyBmb3IgdGhlIGdhbWVcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZSgnbG9nbycsICdpbWFnZXMvU3RvbmVzQ3JlZWQucG5nJyk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgnbWVudScpO1xuXHR9XG59XG4iLCJleHBvcnQgY29uc3QgV0lOX1dJRFRIID0gODAwO1xuZXhwb3J0IGNvbnN0IFdJTl9IRUlHSFQgPSA2MDA7XG4iXSwic291cmNlUm9vdCI6IiJ9